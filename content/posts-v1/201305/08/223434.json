{
  "title": "JavaScriptに慣れた頭で初めてPerlを勉強すると Part.2",
  "html": "<p>引き続き。</p><p>例によって見てるのはこの本なので基本記法くらいしか書かないかも。</p>\n\n    <blockquote>\n        <p>参考：<a href=\"http://www.oreilly.co.jp/books/9784873115672/\" target=\"_blank\" title=\"O&apos;Reilly Japan - 初めてのPerl 第6版\">O&apos;Reilly Japan - 初めてのPerl 第6版</a></p>\n\n    </blockquote>\n<p>さぶるーちん・・？あぁ、関数のことね！</p>\n\n<div class=\"section\">\n    <h3>特殊変数ってなんぞ</h3>\n    <pre class=\"code lang-perl\" data-lang=\"perl\" data-unlink><span class=\"synStatement\">sub </span><span class=\"synIdentifier\">average </span>{\n  <span class=\"synStatement\">my</span> <span class=\"synIdentifier\">@args</span> = <span class=\"synIdentifier\">@_</span>; <span class=\"synComment\"># 引数は@_で取れる</span>\n  <span class=\"synStatement\">my</span> <span class=\"synIdentifier\">$total</span> = <span class=\"synConstant\">0</span>;\n  <span class=\"synStatement\">foreach</span>(<span class=\"synIdentifier\">@args</span>){\n    <span class=\"synIdentifier\">$total</span> += <span class=\"synIdentifier\">$_</span>; <span class=\"synComment\"># ループ内のそれ</span>\n  }\n\n  <span class=\"synStatement\">return</span> <span class=\"synIdentifier\">$total</span> / <span class=\"synStatement\">scalar</span>(<span class=\"synIdentifier\">@args</span>);\n};\n</pre><p>デフォルト変数_(アンダースコア)は、引数なしで関数実行したりすると勝手にコレを指定したことになる・・と。</p>\n\n</div>\n<div class=\"section\">\n    <h3>配列.length</h3>\n    <pre class=\"code lang-perl\" data-lang=\"perl\" data-unlink><span class=\"synStatement\">my</span> <span class=\"synIdentifier\">@arr</span> = <span class=\"synConstant\">qw/1 2 3 4 5/</span>;\n\n<span class=\"synStatement\">my</span> <span class=\"synIdentifier\">$length1</span> = <span class=\"synStatement\">scalar</span>(<span class=\"synIdentifier\">@arr</span>); <span class=\"synComment\"># 便利といえば便利</span>\n<span class=\"synStatement\">my</span> <span class=\"synIdentifier\">$length2</span> = <span class=\"synIdentifier\">$#arr</span> + <span class=\"synConstant\">1</span>; <span class=\"synComment\"># インデックスの最後が取れるのは良いけど、コメントと見分けがつかん・・</span>\n</pre><p>ってかインデックスか。<br />\nまあ、用途がそもそも違うか。</p>\n\n</div>\n<div class=\"section\">\n    <h3>shift・・？</h3>\n    <pre class=\"code lang-perl\" data-lang=\"perl\" data-unlink><span class=\"synStatement\">sub </span><span class=\"synIdentifier\">greet</span>{\n  <span class=\"synStatement\">my</span> <span class=\"synIdentifier\">$who</span> = <span class=\"synStatement\">shift</span>; <span class=\"synComment\"># 引数がデフォルト変数@_に入ってるので、その先頭を取る</span>\n  <span class=\"synStatement\">print</span>(<span class=\"synConstant\">&quot;Hi, </span><span class=\"synIdentifier\">$who</span><span class=\"synConstant\">!</span><span class=\"synSpecial\">\\n</span><span class=\"synConstant\">&quot;</span>);\n};\n\ngreet(<span class=\"synConstant\">'Larry'</span>);\n</pre><p>単独の引数を取るパターンは、ほとんどこうするっぽい。</p>\n\n</div>\n<div class=\"section\">\n    <h3>printfべんりー</h3>\n    <p>これが一番なるほど感があったｗ</p>\n<pre class=\"code lang-perl\" data-lang=\"perl\" data-unlink><span class=\"synStatement\">foreach</span>(<span class=\"synStatement\">sort</span> <span class=\"synStatement\">keys</span> <span class=\"synIdentifier\">%ENV</span>){\n  <span class=\"synStatement\">printf</span>(<span class=\"synConstant\">&quot;%10s : %s</span><span class=\"synSpecial\">\\n</span><span class=\"synConstant\">&quot;</span>, <span class=\"synIdentifier\">$_</span>, <span class=\"synIdentifier\">$ENV{$_}</span>);  <span class=\"synComment\"># %10s = 右寄せで10文字</span>\n  <span class=\"synStatement\">printf</span>(<span class=\"synConstant\">&quot;%-10s : %s</span><span class=\"synSpecial\">\\n</span><span class=\"synConstant\">&quot;</span>, <span class=\"synIdentifier\">$_</span>, <span class=\"synIdentifier\">$ENV{$_}</span>); <span class=\"synComment\"># %-10s = 左寄せで10文字</span>\n};\n</pre><p>Perlべんり！<br />\nJavaScriptのconsole.logで、そもそもこういう変数投げ込みログって最近まで知らんかったし・・。</p>\n\n</div>\n<div class=\"section\">\n    <h3>=~ってなんぞ</h3>\n    <p>正規表現で使う。</p>\n<pre class=\"code lang-perl\" data-lang=\"perl\" data-unlink><span class=\"synStatement\">my</span> <span class=\"synIdentifier\">$str</span> = <span class=\"synConstant\">'Everybody needs somebody now.'</span>;\n\n<span class=\"synStatement\">if</span>(<span class=\"synIdentifier\">$str</span> =~ <span class=\"synStatement\">/</span><span class=\"synSpecial\">\\b</span><span class=\"synConstant\">needs</span><span class=\"synSpecial\">\\b</span><span class=\"synStatement\">/</span>){ <span class=\"synComment\"># 右ではなく左をチェック</span>\n  <span class=\"synStatement\">print</span>(<span class=\"synConstant\">'I need!'</span>);\n}\n</pre>\n</div>\n<div class=\"section\">\n    <h3>/regExp/だけじゃない</h3>\n    <pre class=\"code lang-perl\" data-lang=\"perl\" data-unlink><span class=\"synStatement\">/</span><span class=\"synSpecial\">(.*?)</span><span class=\"synConstant\">hoge$</span><span class=\"synStatement\">/</span>; <span class=\"synComment\"># 以下でもかける</span>\n<span class=\"synStatement\">m{</span><span class=\"synSpecial\">(.*?)</span><span class=\"synConstant\">hoge$</span><span class=\"synStatement\">}</span>;\n<span class=\"synStatement\">m&lt;</span><span class=\"synSpecial\">(.*?)</span><span class=\"synConstant\">hoge</span><span class=\"synIdentifier\">$</span><span class=\"synStatement\">&gt;</span>;\n</pre><p><br />\n次に読むなら、</p>\n\n    <blockquote>\n        <p>参考：<a href=\"http://www.oreilly.co.jp/books/4873113059/\" target=\"_blank\" title=\"O&apos;Reilly Japan - 続・初めてのPerl 改訂版\">O&apos;Reilly Japan - 続・初めてのPerl 改訂版</a></p>\n\n    </blockquote>\n<p>かな？</p><p>でももうPerlはおなかいっぱいです。<br />\nただあとリファレンスくらいは知っときたいところ。</p>\n\n</div>"
}
