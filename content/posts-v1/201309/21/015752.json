{
  "title": "display: noneの要素は、高さも幅も取れない",
  "html": "<p>opacity: 0 or visibility: hidden のものは取れる。</p><p>うーむ。</p><p>その子要素も同様に取れない。</p><p>うーーむ。</p>\n\n<div class=\"section\">\n    <h3>検証コード</h3>\n    \n<div class=\"section\">\n    <h4>Html</h4>\n    <pre class=\"code lang-html\" data-lang=\"html\" data-unlink><span class=\"synIdentifier\">&lt;</span><span class=\"synStatement\">div</span><span class=\"synIdentifier\"> </span><span class=\"synType\">id</span><span class=\"synIdentifier\">=</span><span class=\"synConstant\">&quot;js-target1&quot;</span><span class=\"synIdentifier\"> </span><span class=\"synType\">class</span><span class=\"synIdentifier\">=</span><span class=\"synConstant\">&quot;is-hidden js-target&quot;</span><span class=\"synIdentifier\">&gt;</span>\n  <span class=\"synIdentifier\">&lt;</span><span class=\"synStatement\">div</span><span class=\"synIdentifier\"> </span><span class=\"synType\">id</span><span class=\"synIdentifier\">=</span><span class=\"synConstant\">&quot;js-target-inner1&quot;</span><span class=\"synIdentifier\"> </span><span class=\"synType\">class</span><span class=\"synIdentifier\">=</span><span class=\"synConstant\">&quot;js-target-inner&quot;</span><span class=\"synIdentifier\">&gt;</span>\n      display: none\n  <span class=\"synIdentifier\">&lt;/</span><span class=\"synStatement\">div</span><span class=\"synIdentifier\">&gt;</span>\n<span class=\"synIdentifier\">&lt;/</span><span class=\"synStatement\">div</span><span class=\"synIdentifier\">&gt;</span>\n\n<span class=\"synIdentifier\">&lt;</span><span class=\"synStatement\">div</span><span class=\"synIdentifier\"> </span><span class=\"synType\">id</span><span class=\"synIdentifier\">=</span><span class=\"synConstant\">&quot;js-target2&quot;</span><span class=\"synIdentifier\"> </span><span class=\"synType\">class</span><span class=\"synIdentifier\">=</span><span class=\"synConstant\">&quot;is-invisible js-target&quot;</span><span class=\"synIdentifier\">&gt;</span>\n  <span class=\"synIdentifier\">&lt;</span><span class=\"synStatement\">div</span><span class=\"synIdentifier\"> </span><span class=\"synType\">id</span><span class=\"synIdentifier\">=</span><span class=\"synConstant\">&quot;js-target-inner2&quot;</span><span class=\"synIdentifier\"> </span><span class=\"synType\">class</span><span class=\"synIdentifier\">=</span><span class=\"synConstant\">&quot;js-target-inner&quot;</span><span class=\"synIdentifier\">&gt;</span>\n      visibility: hidden\n  <span class=\"synIdentifier\">&lt;/</span><span class=\"synStatement\">div</span><span class=\"synIdentifier\">&gt;</span>\n<span class=\"synIdentifier\">&lt;/</span><span class=\"synStatement\">div</span><span class=\"synIdentifier\">&gt;</span>\n\n<span class=\"synIdentifier\">&lt;</span><span class=\"synStatement\">div</span><span class=\"synIdentifier\"> </span><span class=\"synType\">id</span><span class=\"synIdentifier\">=</span><span class=\"synConstant\">&quot;js-target3&quot;</span><span class=\"synIdentifier\"> </span><span class=\"synType\">class</span><span class=\"synIdentifier\">=</span><span class=\"synConstant\">&quot;is-transparent js-target&quot;</span><span class=\"synIdentifier\">&gt;</span>\n  <span class=\"synIdentifier\">&lt;</span><span class=\"synStatement\">div</span><span class=\"synIdentifier\"> </span><span class=\"synType\">id</span><span class=\"synIdentifier\">=</span><span class=\"synConstant\">&quot;js-target-inner3&quot;</span><span class=\"synIdentifier\"> </span><span class=\"synType\">class</span><span class=\"synIdentifier\">=</span><span class=\"synConstant\">&quot;js-target-inner&quot;</span><span class=\"synIdentifier\">&gt;</span>\n      opacity: 0\n  <span class=\"synIdentifier\">&lt;/</span><span class=\"synStatement\">div</span><span class=\"synIdentifier\">&gt;</span>\n<span class=\"synIdentifier\">&lt;/</span><span class=\"synStatement\">div</span><span class=\"synIdentifier\">&gt;</span>\n</pre>\n</div>\n<div class=\"section\">\n    <h4>Css</h4>\n    <pre class=\"code lang-css\" data-lang=\"css\" data-unlink><span class=\"synIdentifier\">.js-target</span> <span class=\"synIdentifier\">{</span>\n    <span class=\"synType\">background-color</span>: <span class=\"synConstant\">#ddd</span>;\n    <span class=\"synType\">padding</span>: <span class=\"synConstant\">5px</span>;\n<span class=\"synIdentifier\">}</span>\n\n<span class=\"synIdentifier\">.js-target-inner</span> <span class=\"synIdentifier\">{</span>\n    <span class=\"synType\">background-color</span>: <span class=\"synConstant\">#eee</span>;\n<span class=\"synIdentifier\">}</span>\n\n<span class=\"synIdentifier\">.is-hidden</span> <span class=\"synIdentifier\">{</span> <span class=\"synType\">display</span>: <span class=\"synType\">none</span>; <span class=\"synIdentifier\">}</span>\n<span class=\"synIdentifier\">.is-invisible</span> <span class=\"synIdentifier\">{</span> <span class=\"synType\">visibility</span>: <span class=\"synType\">hidden</span>; <span class=\"synIdentifier\">}</span>\n<span class=\"synIdentifier\">.is-transparent</span> <span class=\"synIdentifier\">{</span> opacity: <span class=\"synConstant\">0</span>; <span class=\"synIdentifier\">}</span>\n</pre>\n</div>\n<div class=\"section\">\n    <h4>JavaScript</h4>\n    <pre class=\"code lang-javascript\" data-lang=\"javascript\" data-unlink><span class=\"synComment\">// コレは取得できない</span>\nconsole.group(<span class=\"synConstant\">'display: none'</span>);\nconsole.log(<span class=\"synStatement\">document</span>.getElementById(<span class=\"synConstant\">'js-target1'</span>).offsetHeight);\nconsole.log(<span class=\"synStatement\">document</span>.getElementById(<span class=\"synConstant\">'js-target-inner1'</span>).offsetHeight);\nconsole.groupEnd();\n\n<span class=\"synComment\">// コレはOK</span>\nconsole.group(<span class=\"synConstant\">'visibility: hidden;'</span>);\nconsole.log(<span class=\"synStatement\">document</span>.getElementById(<span class=\"synConstant\">'js-target2'</span>).offsetHeight);\nconsole.log(<span class=\"synStatement\">document</span>.getElementById(<span class=\"synConstant\">'js-target-inner2'</span>).offsetHeight);\nconsole.groupEnd();\n\n<span class=\"synComment\">// コレもOK</span>\nconsole.group(<span class=\"synConstant\">'opacity: 0'</span>);\nconsole.log(<span class=\"synStatement\">document</span>.getElementById(<span class=\"synConstant\">'js-target3'</span>).offsetHeight);\nconsole.log(<span class=\"synStatement\">document</span>.getElementById(<span class=\"synConstant\">'js-target-inner3'</span>).offsetHeight);\nconsole.groupEnd();\n</pre>\n</div>\n</div>\n<div class=\"section\">\n    <h3>どうするか</h3>\n    <p>display:none の代わりに、 translate3d とかで吹き飛ばす！　しかないと思ってるなう。</p>\n\n    <blockquote>\n        <p>ちなみに、ZeptoさんもjQueryさんも、height()メソッド持ってまして、<br />\nなんかelement.styleの方まで探しに行ったりかなり頑張ってるのですが、同じ結果になります。</p>\n\n    </blockquote>\n\n</div>"
}
