{
  "title": "PHPでスマートフォンやタブレットの判別をするなら",
  "html": "\n    <blockquote>\n        <p>参考：<a href=\"http://code.google.com/p/php-mobile-detect/\" target=\"_blank\" title=\"php-mobile-detect - The lightweight PHP class for detecting mobile devices. - Google Project Hosting\">php-mobile-detect - The lightweight PHP class for detecting mobile devices. - Google Project Hosting</a></p>\n\n    </blockquote>\n<p>コレは良さそう！</p><p>軽くUAだけ正規表現でかっさらって、大雑把にタブレットかSPかを判別するのでも良かったんですけど、どうせなら徹底的にやりたいと思い。<br />\n使い方を軽くメモ。</p>\n\n<div class=\"seemore\">\n    \n<div class=\"section\">\n    <h3>読み込む</h3>\n    <pre class=\"code lang-php\" data-lang=\"php\" data-unlink><span class=\"synSpecial\">&lt;?php</span>\n<span class=\"synPreProc\">include</span> '<span class=\"synConstant\">Mobile_Detect.php</span>';\n<span class=\"synStatement\">$</span><span class=\"synIdentifier\">detect</span> <span class=\"synStatement\">=</span> <span class=\"synPreProc\">new</span> Mobile_Detect<span class=\"synSpecial\">()</span>;\n</pre><p>準備としてはコレだけ。<br />\nこれでもうdetectインスタンスからアレコレできるようになります。</p>\n\n</div>\n<div class=\"section\">\n    <h3>使い方</h3>\n    \n<div class=\"section\">\n    <h4>スマートフォン(モバイル)の判別</h4>\n    <pre class=\"code lang-php\" data-lang=\"php\" data-unlink><span class=\"synSpecial\">&lt;?php</span>\n<span class=\"synStatement\">if</span> <span class=\"synSpecial\">(</span><span class=\"synStatement\">$</span><span class=\"synIdentifier\">detect</span><span class=\"synType\">-&gt;</span>isMobile<span class=\"synSpecial\">())</span> <span class=\"synSpecial\">{</span>\n  <span class=\"synComment\">// 携帯端末</span>\n<span class=\"synSpecial\">}</span>\n</pre>\n</div>\n<div class=\"section\">\n    <h4>タブレットの判別</h4>\n    <pre class=\"code lang-php\" data-lang=\"php\" data-unlink><span class=\"synSpecial\">&lt;?php</span>\n<span class=\"synStatement\">if</span> <span class=\"synSpecial\">(</span><span class=\"synStatement\">$</span><span class=\"synIdentifier\">detect</span><span class=\"synType\">-&gt;</span>isTablet<span class=\"synSpecial\">())</span> <span class=\"synSpecial\">{</span>\n  <span class=\"synComment\">// タブレット端末</span>\n<span class=\"synSpecial\">}</span>\n</pre>\n</div>\n<div class=\"section\">\n    <h4>パソコンの判別</h4>\n    <pre class=\"code lang-php\" data-lang=\"php\" data-unlink><span class=\"synSpecial\">&lt;?php</span>\n<span class=\"synStatement\">if</span> <span class=\"synSpecial\">(</span><span class=\"synStatement\">!$</span><span class=\"synIdentifier\">detect</span><span class=\"synType\">-&gt;</span>isMobile<span class=\"synSpecial\">()</span> <span class=\"synStatement\">&amp;&amp;</span> <span class=\"synStatement\">!$</span><span class=\"synIdentifier\">detect</span><span class=\"synType\">-&gt;</span>isTablet<span class=\"synSpecial\">())</span> <span class=\"synSpecial\">{</span>\n  <span class=\"synComment\">// パソコン</span>\n<span class=\"synSpecial\">}</span>\n</pre>\n</div>\n</div>\n<div class=\"section\">\n    <h3>処理を固める</h3>\n    <pre class=\"code lang-php\" data-lang=\"php\" data-unlink><span class=\"synSpecial\">&lt;?php</span>\n<span class=\"synPreProc\">function</span> isPC<span class=\"synSpecial\">(){</span>\n  <span class=\"synPreProc\">require_once</span><span class=\"synSpecial\">(</span>'<span class=\"synConstant\">Mobile_Detect.php</span>'<span class=\"synSpecial\">)</span>;\n  <span class=\"synStatement\">$</span><span class=\"synIdentifier\">detect</span> <span class=\"synStatement\">=</span> <span class=\"synPreProc\">new</span> Mobile_Detect;\n  <span class=\"synStatement\">$</span><span class=\"synIdentifier\">_SESSION</span><span class=\"synSpecial\">[</span>'<span class=\"synConstant\">isPC</span>'<span class=\"synSpecial\">]</span> <span class=\"synStatement\">=</span> <span class=\"synSpecial\">(</span><span class=\"synStatement\">$</span><span class=\"synIdentifier\">detect</span><span class=\"synType\">-&gt;</span>isMobile<span class=\"synSpecial\">()</span> <span class=\"synStatement\">||</span> <span class=\"synStatement\">$</span><span class=\"synIdentifier\">detect</span><span class=\"synType\">-&gt;</span>isTablet<span class=\"synSpecial\">())</span> <span class=\"synStatement\">?</span> <span class=\"synConstant\">false</span> <span class=\"synStatement\">:</span> <span class=\"synConstant\">true</span>;\n  <span class=\"synStatement\">return</span> <span class=\"synStatement\">$</span><span class=\"synIdentifier\">_SESSION</span><span class=\"synSpecial\">[</span>'<span class=\"synConstant\">isPC</span>'<span class=\"synSpecial\">]</span>;\n<span class=\"synSpecial\">}</span>\n</pre><p>これを定義しておけばあとは・・</p>\n<pre class=\"code lang-php\" data-lang=\"php\" data-unlink><span class=\"synSpecial\">&lt;?php</span> <span class=\"synStatement\">if</span><span class=\"synSpecial\">(</span><span class=\"synStatement\">$</span><span class=\"synIdentifier\">_SESSION</span><span class=\"synSpecial\">[</span>'<span class=\"synConstant\">isPC</span>'<span class=\"synSpecial\">]</span> <span class=\"synStatement\">||</span> isPC<span class=\"synSpecial\">())</span><span class=\"synStatement\">:</span> <span class=\"synSpecial\">?&gt;</span>\n// PC向け処理\n<span class=\"synSpecial\">&lt;?php</span> <span class=\"synStatement\">else:</span> <span class=\"synSpecial\">?&gt;</span>\n// PC以外向け処理\n<span class=\"synSpecial\">&lt;?php</span> <span class=\"synStatement\">endif</span>; <span class=\"synSpecial\">?&gt;</span>\n</pre><p>テンプレートの中で2分して、PC用とそれ以外が書けるようになりますね。<br />\nほんとはファイルも分けたいけど、まぁいろいろ事情があって・・な場合には使えると思います。</p>\n\n</div>\n<div class=\"section\">\n    <h3>その他のメソッド</h3>\n    \n<ul>\n<li>isMobile()</li>\n<li>isTablet()</li>\n</ul><p>これ以外に、下記のメソッドが使えて端末の判別ができます。<br />\nこの守備範囲はさすがですね。</p>\n\n<div class=\"section\">\n    <h4>Phones</h4>\n    \n<ul>\n<li>isiPhone()</li>\n<li>isBlackBerry()</li>\n<li>isHTC()</li>\n<li>isNexus()</li>\n<li>isDellStreak()</li>\n<li>isMotorola()</li>\n<li>isSamsung()</li>\n<li>isSony()</li>\n<li>isAsus()</li>\n<li>isPalm()</li>\n<li>isGenericPhone()</li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>Tablets</h4>\n    \n<ul>\n<li>isBlackBerryTablet()</li>\n<li>isiPad()</li>\n<li>isKindle()</li>\n<li>isSamsungTablet()</li>\n<li>isHTCtablet()</li>\n<li>isMotorolaTablet()</li>\n<li>isAsusTablet()</li>\n<li>isNookTablet()</li>\n<li>isAcerTablet()</li>\n<li>isYarvikTablet()</li>\n<li>isGenericTablet()</li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>Operating systems</h4>\n    \n<ul>\n<li>isAndroidOS()</li>\n<li>isBlackBerryOS()</li>\n<li>isPalmOS()</li>\n<li>isSymbianOS()</li>\n<li>isWindowsMobileOS()</li>\n<li>isiOS()</li>\n<li>isFlashLiteOS()</li>\n<li>isJavaOS()</li>\n<li>isNokiaOS()</li>\n<li>iswebOS()</li>\n<li>isbadaOS()</li>\n<li>isBREWOS()</li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>Mobile browsers</h4>\n    \n<ul>\n<li>isChrome()</li>\n<li>isDolfin()</li>\n<li>isOpera()</li>\n<li>isSkyfire()</li>\n<li>isIE()</li>\n<li>isFirefox()</li>\n<li>isBolt()</li>\n<li>isTeaShark()</li>\n<li>isBlazer()</li>\n<li>isSafari()</li>\n<li>isMidori()</li>\n<li>isGenericBrowser()</li>\n</ul><p>聞いたこともない名前がたくさんあります・・。<br />\nってか、こんだけあるなら、isPC()ってあってもいいと思うの・・ｗ</p>\n\n</div>\n</div>\n</div>"
}
