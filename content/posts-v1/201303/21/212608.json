{
  "title": "iOSにおけるリソース制限",
  "html": "<p>よくJavaScriptの実行は10秒以内にしなさいとか聞きますが、アレもこのひとつです。<br />\n今回はそんなリソース制限の中でも、画像についてのメモ。</p><p>やたら縦に長い画像を使ったら、iOSの一部機種で画像が表示されなかったんですの・・。</p>\n\n    <blockquote>\n        <p>参考：<a href=\"https://developer.apple.com/library/safari/#documentation/AppleApplications/Reference/SafariWebContent/CreatingContentforSafarioniPhone/CreatingContentforSafarioniPhone.html\" target=\"_blank\" title=\"Safari Web Content Guide: Creating Compatible Web Content\">Safari Web Content Guide: Creating Compatible Web Content</a></p>\n\n    </blockquote>\n\n<div class=\"seemore\">\n    \n<div class=\"section\">\n    <h3>各Apple端末のRAM容量</h3>\n    <p>まず、リソース制限は何によるのかというと、端末に搭載されているRAM次第だそうで。<br />\n以下その一覧。</p>\n\n<div class=\"section\">\n    <h4>iPhone</h4>\n    \n<ul>\n<li>iPhone(初代)：128MB</li>\n<li>iPhone 3G：128MB</li>\n<li>iPhone 3GS：256MB</li>\n<li>iPhone 4：512MB</li>\n<li>iPhone 4S：512MB</li>\n<li>iPhone 5：1GB(1024MB)</li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>iPad</h4>\n    \n<ul>\n<li>初代(iPad1)：256MB</li>\n<li>第2世代(iPad2)：512MB</li>\n<li>第3世代(新しいiPad, iPad3)：1GB</li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>iPod</h4>\n    \n<ul>\n<li>初代：128MB</li>\n<li>第2世代：128MB</li>\n<li>第3世代：256MB(8GBモデルは128MB)</li>\n<li>第4世代：256MB</li>\n<li>第5世代：512MB</li>\n</ul>\n    <blockquote>\n        <p>参考：<a href=\"http://hdd-check.com/pc_124.html\" target=\"_blank\" title=\"iPod touch(第5世代)のメモリ(RAM)は512MB？\">iPod touch(第5世代)のメモリ(RAM)は512MB？</a></p>\n\n    </blockquote>\n<p>Appleは正式に出してないんですね。</p>\n\n</div>\n</div>\n<div class=\"section\">\n    <h3>リソース制限</h3>\n    <p>こっからが本題で、Canvasや画像のサイズについての制限について。<br />\n冒頭の参考リンク内、[Know iOS Resource Limits]の項です。</p><p></p>\n\n<div class=\"section\">\n    <h4>画像の容量</h4>\n    \n    <blockquote>\n        <p>The maximum size for decoded GIF, PNG, and TIFF images is 3 megapixels for devices with less than 256 MB RAM and 5 megapixels for devices with greater or equal than 256 MB RAM.</p>\n\n    </blockquote>\n\n<ul>\n<li>RAMが256MB未満の端末では、3MB以下</li>\n<li>RAMが256MB以上の端末では、5MB以下</li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>画像のサイズ</h4>\n    \n    <blockquote>\n        <p>That is, ensure that width * height ≤ 3 * 1024 * 1024 for devices with less than 256 MB RAM. Note that the decoded size is far larger than the encoded size of an image.</p>\n\n    </blockquote>\n\n<ul>\n<li>RAMが256MB未満の端末では、width * height ≤ 3 * 1024 * 1024 となるように。</li>\n</ul><p>この計算だとおおよそ3メガまで大丈夫風ですが、おおよそ1000px * 2000pxの画像が、iPhone 3GSと初代iPodで表示されませんでした。</p>\n\n</div>\n<div class=\"section\">\n    <h4>その他</h4>\n    <p>あとは</p>\n\n<ul>\n<li>Canvas要素にも同等の容量制限あり。</li>\n<li>JPEGだとサブサンプリングされるので32MBまでOK。</li>\n<li>JavaScriptの実行は10秒を超えると処理が止まる。</li>\n<li>同時に開けるウィンドウは8つまで。(iPadは9つ)</li>\n<li>100*100の画像を、10*10で表示させたりしない。(=画像のサイズは適正にすべし)</li>\n</ul><p>ううむ。</p><p>そういやRetina対応などで画像を実表示の2倍のサイズで作って、widthやheightで半分を指定・・なんてよくやる手ですが、あくまであれはハックであり正攻法ではないんですね。</p>\n\n</div>\n</div>\n</div>"
}
