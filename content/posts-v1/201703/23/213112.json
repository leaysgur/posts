{
  "title": "WebRTC Meetup Tokyo #14 に行ってきたメモ #webrtcjp",
  "html": "<p>そういやもう3月も終わりやけど、これが2017年初の行ってきたメモなのね・・。</p><p>ちなみにですが、4月にあるWebRTCのハンズオンでメンターとかやります。</p>\n\n    <blockquote>\n        <p><a href=\"https://webrtc.connpass.com/event/50731/\">&#x521D;&#x5FC3;&#x8005;&#x5411;&#x3051;&#xFF01; WebRTC&#x30CF;&#x30F3;&#x30BA;&#x30AA;&#x30F3; - connpass</a></p>\n\n    </blockquote>\n\n<div class=\"section\">\n    <h3>WebRTCを用いたビデオチャット接客 ～オンラインとリアル店舗/AIと人間コミュニケーションの融合とは</h3>\n    <p>No配信なのでNoメモです。</p>\n\n</div>\n<div class=\"section\">\n    <h3>ディベートでのWebRTC利用</h3>\n    <p>こっちもNo配信なのでNoメモです！</p>\n\n</div>\n<div class=\"section\">\n    <h3>Creating appear.in premium</h3>\n    \n    <blockquote>\n        <p><a href=\"https://www.slideshare.net/DagIngeAas/appearin-premium-walkthrough\">Appear.in premium walkthrough</a></p>\n\n    </blockquote>\n<p>appear.in の中の人、@daginge よりプレミアムコースを作ったことについて。</p>\n\n<div class=\"section\">\n    <h4>プレミアム化</h4>\n    \n<ul>\n<li>利用者からも有料化を希望する声はあったし、それに応えたかった\n<ul>\n<li>もっとたくさんの人を部屋に入れるようにしたり</li>\n<li>細かな挙動をカスタマイズできたり</li>\n</ul></li>\n<li>そこでまず問題を整理した\n<ul>\n<li>1部屋に入れる人数</li>\n<li>通信品質</li>\n<li>カンファレンスみたいな 一対多配信とかの機能</li>\n<li>スクリーン共有とかも</li>\n</ul></li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>何が問題だったか</h4>\n    \n<ul>\n<li>1部屋に入れる人の数を\n<ul>\n<li>8人では足りない</li>\n<li>でも何人なら十分なのか</li>\n</ul></li>\n<li>通話の品質\n<ul>\n<li>多少なら気にならないし、それを補正する人間の脳はすごい</li>\n<li>しかし高品質 is ..?</li>\n<li>レイテンシーよりも快適に通話できる「体験」を品質として定める</li>\n</ul></li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>どうやって解決するか</h4>\n    \n<ul>\n<li>P2Pはフルメッシュなので帯域がヤバい</li>\n<li>そもそもインターネットという不確定な基盤の上でどうやるか</li>\n<li>パケロス、ジッターとの戦い</li>\n<li><a href=\"https://github.com/opentok/rtcstats\">https://github.com/opentok/rtcstats</a> で計測する\n<ul>\n<li>そしてそれをRedshiftに貯める</li>\n<li><a href=\"https://medium.com/the-making-of-appear-in/webrtc-connection-times-and-the-power-of-playing-around-with-data-ab11312737e9#.3fckn2k04\">WebRTC connection times and the power of playing around with data</a></li>\n</ul></li>\n<li>`b=AS` SDPで帯域を部屋の人数にあわせて調整した\n<ul>\n<li>ただし256k/sを下回ると見れたもんじゃなかった</li>\n<li>この高解像度時代のスクリーンも共有もなおさら</li>\n</ul></li>\n<li>試しにSFUにしたらそっちのほうが圧倒的に体験がよかった</li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>appear.inのSFU</h4>\n    \n<ul>\n<li>JavaScript x Cのバインディングを少々のフルスクラッチ\n<ul>\n<li>SFUのコアとかも（暗号化とかはライブラリ使ってるけど</li>\n<li>初期verは3000行くらい</li>\n</ul></li>\n<li>ホストが違うならフルメッシュで</li>\n<li>AWSのリージョンごとに複数のサーバーを建ててる</li>\n<li>自作すると色々知れて良い\n<ul>\n<li>自分の道具は自分で作る精神</li>\n<li>自作のルールで色々設定したりスケールできたりするので</li>\n</ul></li>\n<li>自作するのは大変\n<ul>\n<li>問題が山積み（その問題を解決するために別の問題が・・以下ループ</li>\n<li>初期verから最初のリリースまで10ヶ月かかった</li>\n</ul></li>\n<li>それぞれのSFUがシグナリングもやる</li>\n<li>近いとこにあるDNSから探してくる（レイテンシー重視）</li>\n<li>リージョンが違ってもSFUどうしはAWSの中でやり取りする\n<ul>\n<li>グローバルなインターネットではなく、AWS内の別回線なので快適</li>\n</ul></li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>プレミアム</h4>\n    \n<ul>\n<li><a href=\"https://appear.in/information/premium/\">Premium &ndash; appear.in &ndash; one click video conversations</a>\n<ul>\n<li>$12/月</li>\n</ul></li>\n<li>クーポンコードもあるよ\n<ul>\n<li>`WEBRTC-jp`で1ヶ月無料！</li>\n</ul></li>\n</ul>\n</div>\n</div>\n<div class=\"section\">\n    <h3>MS EdgeのWebRTC対応について</h3>\n    \n    <blockquote>\n        <p><a href=\"http://qiita.com/yusuke84/items/c96fdd751966a68f469c\">Microsoft Edge&#x306E;WebRTC&#x5BFE;&#x5FDC;&#x306B;&#x3064;&#x3044;&#x3066;&#x8ABF;&#x67FB;&#x3057;&#x305F; - Qiita</a></p>\n\n    </blockquote>\n\n<ul>\n<li>EdgeがWebRTCに対応！\n<ul>\n<li>appear.inも動いてた</li>\n</ul></li>\n</ul>\n<div class=\"section\">\n    <h4>build 15019より</h4>\n    \n<ul>\n<li>`getUserMedia()`はhttpでもできる</li>\n<li>DataChannelは未対応</li>\n<li>MediaRecorderも未対応\n<ul>\n<li>H.264で検討はしている・・</li>\n</ul></li>\n<li>映像/音声コーデックまわりもChrome/Firefoxと通信できるように</li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>動かしてみた</h4>\n    \n<ul>\n<li>最新は15063なのでちょい違うかも</li>\n<li>STUN</li>\n<li>TURNないと動かない</li>\n<li>TrickleICEもできるっぽい</li>\n<li>Multistreamも（SDPには出ない）</li>\n<li>adapter.jsはそのままで</li>\n<li>SkyWayの公式対応は未定</li>\n<li>peer.jsはダメそう</li>\n</ul>\n</div>\n</div>\n<div class=\"section\">\n    <h3>WebRTCで元オリンピック陸上選手の為末大のリハビリを遠隔でやってみた</h3>\n    \n<ul>\n<li><a href=\"http://www.regainapp.jp/\">Regain -&#x30AA;&#x30F3;&#x30E9;&#x30A4;&#x30F3;&#x3067;&#x8170;&#x75DB;&#x3092;&#x89E3;&#x6C7A;-</a>\n<ul>\n<li>リモートで腰痛のカウンセリング・リハビリができるアプリ</li>\n<li>配送系とかライン作業系の会社向けに</li>\n</ul></li>\n</ul>\n<div class=\"section\">\n    <h4>ビデオ通話の機能にWebRTC</h4>\n    \n<ul>\n<li>tokbox/opentok\n<ul>\n<li>顧客との通話内容が暗号化できる</li>\n<li>通話を保存できる（何かあったときに必要なので）</li>\n</ul></li>\n<li>実際に体を動かしてもらって、その様子から腰痛主訴を特定できる</li>\n<li>2020パラリンピックに向けて、腰痛以外のリハビリにも活用していきたい</li>\n</ul>\n</div>\n</div>\n<div class=\"section\">\n    <h3>ブラウザでiOSゲートウェイ作ってみた</h3>\n    \n    <blockquote>\n        <p><a href=\"https://www.slideshare.net/mganeko/webrtc-ios\">&#x30D6;&#x30E9;&#x30A6;&#x30B6;&#x3067;WebRTC - iOS&#x30B2;&#x30FC;&#x30C8;&#x30A6;&#x30A7;&#x30A4;&#x4F5C;&#x3063;&#x3066;&#x307F;&#x305F;</a></p>\n\n    </blockquote>\n<p>何を隠そう元ネタは私です。<br />\n俺のは音声だけで、がねこさんのは映像もついてるパワーアップ版。</p>\n\n    <blockquote>\n        <p><a href=\"http://leader22.github.io/slides/webaudio_tokyo-1/\">WebAudio&#x3067;&#x306A;&#x3093;&#x3061;&#x3083;&#x3063;&#x3066;WebRTC&#x3059;&#x308B;</a></p>\n\n    </blockquote>\n\n<ul>\n<li>iOS側からは、簡単なリアクションを送信できる</li>\n<li>ビデオは2秒ごと</li>\n<li>通信量が尋常じゃないので、その圧縮がキモ\n<ul>\n<li>映像はJPEGに</li>\n<li>音声はmp3に（μ-lawより圧縮率がよかった</li>\n</ul></li>\n<li>映像: 56kbps 音声: 36kbpsまで落として、弱い回線でもなんとか</li>\n</ul><p>いやーさすがですねー。</p>\n\n</div>"
}
