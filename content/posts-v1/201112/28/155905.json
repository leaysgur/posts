{
  "title": "Twitter Search APIで、jsonデータからリンクに関する情報を抽出する",
  "html": "<p>こんなんにつまづくなんて、ほんとまだまだ修行が足りませんな・・・。</p><p>GETしたjsonにリンク情報などおまけ情報を含ませるためには、<b>'include_entities'=>1</b>を指定します。</p>\n\n<div class=\"seemore\">\n    \n<div class=\"section\">\n    <h3>コード</h3>\n    \n    <pre class=\"code lang-php\" data-lang=\"php\" data-unlink>$searchUrl = &#39;http://search.twitter.com/search.json&#39;;\n$searchParams = http_build_query(array(\n　&#39;q&#39;=&gt;&#39;検索ワード&#39;,\n\t&#39;locale&#39;=&gt;&#39;ja&#39;,\n\t&#39;page&#39;=&gt;1,\n\t&#39;result_type&#39;=&gt;&#39;recent&#39;,\n\t&#39;rpp&#39;=&gt;100,\n\t&#39;include_entities&#39;=&gt;1　// これがないとデータ取れない\n));\n\n$searchResults = json_decode(file_get_contents($searchUrl.&#39;?&#39;.$searchParams));\n\nif (isset($searchResults)) {\n　$results = $searchResults-&gt;results;\n　for ($i = 0; $i &lt; count($results); $i++) {\n　　echo ($results[$i]-&gt;entities-&gt;urls[0]-&gt;url);\n　　echo ($results[$i]-&gt;entities-&gt;urls[0]-&gt;expanded_url);\n　　echo ($results[$i]-&gt;entities-&gt;urls[0]-&gt;display_url);\n　　echo ($results[$i]-&gt;entities-&gt;urls[0]-&gt;indices[0]).($results[$i]-&gt;entities-&gt;urls[0]-&gt;indices[1]);\n　}\n}</pre>\n<p><b>urls[0]</b>をつけないと、一気にNullが返ってくるようになって、ああでもないこうでもないと2時間くらい悩むハメになります。</p><p>こんな簡単なことは、経験者のみなさまは書いてくれません！<br />\n困ったもんだ！</p>\n\n</div>\n</div>"
}
