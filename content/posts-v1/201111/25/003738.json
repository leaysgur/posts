{
  "title": "WordPressで記事の「続きを読む」をカスタマイズ",
  "html": "<p>どうにもこうにもやりたいことができなかったのですが、とりあえず結論として。</p><p>続きを読むはブロック要素で装飾して置きたいとか、そういう場合に自前で続きを読むを出力します。</p>\n\n<div class=\"seemore\">\n    \n<div class=\"section\">\n    <h3>the_contentの場合</h3>\n    \n    <pre class=\"code lang-php\" data-lang=\"php\" data-unlink>&lt;?php the_content(&#39;続きを読む&#39;); ?&gt;</pre>\n<p>の代わりに、</p>\n\n    <pre class=\"code lang-php\" data-lang=\"php\" data-unlink>&lt;?php the_content(&#39;&#39;,FALSE,&#39;&#39;); ?&gt;\n&lt;span class=&#34;more-link&#34;&gt;&lt;a href=&#34;hoge&#34;&gt;続きも読んでー！&lt;/a&gt;&lt;/span&gt;</pre>\n<p>この第二引数でいれたFalseが、表示・非表示をコントロールするらしい。<br />\nちなみに第一引数は続きを読むの「文面」で、第三引数は「遷移先」だそうな。</p><p>第一引数にspanタグとかいれてブロック要素に・・とやってみても、結局は続きを読むもリンクなので、aタグに囲まれて出てくる。<br />\nそれがイヤでどうしようかなーというところでした。</p><p>ただ結局はリンクなら自分で書けばいいんでは？ということで、自分で書く。<br />\nなら、デフォルトのやつはいらないので非表示に。</p>\n\n</div>\n<div class=\"section\">\n    <h3>the_excerptの場合</h3>\n    <p>どうやらこいつでもできる模様。</p>\n\n    <pre class=\"code lang-php\" data-lang=\"php\" data-unlink>&lt;?php the_excerpt(); ?&gt;</pre>\n<p>これで抜粋：投稿時にmoreを入れる手前までが改行なしで出力されます。<br />\n引数は取らず、デフォルトでは続きを読むリンクは出力されません。<br />\nなので、</p>\n\n    <pre class=\"code lang-php\" data-lang=\"php\" data-unlink>&lt;?php the_excerpt(); ?&gt;\n&lt;span class=&#34;more-link&#34;&gt;&lt;a href=&#34;hoge&#34;&gt;続きも読んでー！&lt;/a&gt;&lt;/span&gt;</pre>\n<p>hogeには記事のパーマリンクでも設定すればOK！</p>\n\n<div class=\"section\">\n    <h4>ちなみに</h4>\n    <p>excerptで表示される抜粋の文字数を設定するフィルターがあるみたいです。<br />\n例のごとくfunctions.phpに、</p>\n\n    <pre class=\"code lang-php\" data-lang=\"php\" data-unlink>function new_excerpt_length($length) {\t\n     return 20;\t\n}\t\nadd_filter(&#39;excerpt_length&#39;, &#39;new_excerpt_length&#39;);</pre>\n<p>これで20文字まで表示させます。<br />\nただ文字数は標準では110だとか日本語はダメだとかマルチバイトがどうだとか、詳しいことは↓を。</p>\n\n    <blockquote>\n        <p>参考：<a href=\"http://wpdocs.sourceforge.jp/%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%E3%82%BF%E3%82%B0/the_excerpt\" target=\"_blank\" title=\"テンプレートタグ/the excerpt - WordPress Codex 日本語版\">テンプレートタグ/the excerpt - WordPress Codex 日本語版</a></p>\n\n    </blockquote>\n\n</div>\n</div>\n<div class=\"section\">\n    <h3>結局？</h3>\n    <p>ブログのトップページとか、記事の見出しを使うにも改行などは反映させたい！って場合は、有無をいわさず前者：the_contentを使う、と。</p>\n\n</div>\n</div>"
}
