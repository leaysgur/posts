{
  "title": "WebRTC Meetup Tokyo #21 に行ってきたメモ #webrtcjp",
  "html": "\n    <blockquote>\n        <p><a href=\"https://atnd.org/events/105581\">WebRTC Meetup Tokyo #21 : ATND</a></p>\n\n    </blockquote>\n<p>今回は五反田にあるFreee社にて。</p><p>いつだかのNode学園祭の打ち上げで使ったところですね。<br />\n夜間入り口はコンビニ横で少しわかりにくい・・ｗ<br />\n<br />\n</p>\n\n<div class=\"section\">\n    <h3>AV1 Patent issue by @dynamitter</h3>\n    \n    <blockquote>\n        <p><a href=\"https://speakerdeck.com/dynamis/av1-patent-issue\">AV1 Patent Issue - Speaker Deck</a></p>\n\n    </blockquote>\n\n<div class=\"section\">\n    <h4>TL;DR</h4>\n    \n<ul>\n<li>AV1はこれからのコーデック\n<ul>\n<li>実用もできるが重い</li>\n</ul></li>\n<li>パテント問題について話すよ</li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>歴史</h4>\n    \n<ul>\n<li>Googleが発起人となってパテントフリーの動画コーデックを作ろうとしたのがはじまり</li>\n<li>VP8をOSSに</li>\n<li>MPEG/LAがVP8の特許プール設立を呼びかけ\n<ul>\n<li>合意したのは11社ほどで、VP8、VP9を対象</li>\n<li>AV1やその後継は対象外</li>\n</ul></li>\n<li>Nokiaが特許侵害を申し立てた</li>\n<li>他のコーデックにもパテントプールはある\n<ul>\n<li>H.265に関してはなんとパテントプールが複数ある</li>\n</ul></li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>AV1</h4>\n    \n<ul>\n<li>2015年、AOMが開発をはじめる</li>\n<li>2018年、AV1 v1.0の仕様が公開される</li>\n<li>ちなみに、AOMへの加入費は高くない（高いけど）</li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>実用的なデコーダ</h4>\n    \n<ul>\n<li>`libaom`\n<ul>\n<li>AOMのリファレンス実装</li>\n</ul></li>\n<li>`dav1d`\n<ul>\n<li><a href=\"https://code.videolan.org/videolan/dav1d\">https://code.videolan.org/videolan/dav1d</a></li>\n<li>iPad Proで4Kでもデコードできるとのこと</li>\n<li>FirefoxもChromeでも採用されている</li>\n</ul></li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>エンコーダ</h4>\n    \n<ul>\n<li>`libaom`\n<ul>\n<li>おなじくリファレンス実装</li>\n<li>`x265`の3倍の処理時間がかかる</li>\n<li>2019/03までで速度改善されたがまだ遅い</li>\n</ul></li>\n<li>`rav1e`\n<ul>\n<li><a href=\"https://github.com/xiph/rav1e\">https://github.com/xiph/rav1e</a></li>\n<li>MozillaのRust実装</li>\n</ul></li>\n<li>`SVT-AV1`\n<ul>\n<li><a href=\"https://github.com/OpenVisualCloud/SVT-AV1\">https://github.com/OpenVisualCloud/SVT-AV1</a></li>\n<li>Intel</li>\n</ul></li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>ハードウェアエンコーダ</h4>\n    \n<ul>\n<li>SOCIONEXT</li>\n<li>NGCodec</li>\n<li>Allegro\n<ul>\n<li><a href=\"http://www.allegrodvt.com/allegro-dvt-introduces-the-industry-first-real-time-av1-video-encoder-hardware-ip-for-4kuhd-video-encoding-applications/\">http://www.allegrodvt.com/allegro-dvt-introduces-the-industry-first-real-time-av1-video-encoder-hardware-ip-for-4kuhd-video-encoding-applications/</a></li>\n</ul></li>\n<li>各社の今後に期待</li>\n<li>そういえばDwangoも\n<ul>\n<li><a href=\"https://dwango.github.io/articles/av1hwencoder/\">https://dwango.github.io/articles/av1hwencoder/</a></li>\n</ul></li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>AV1の品質</h4>\n    \n<ul>\n<li>画質はH.265超え</li>\n<li>最新の状況としては、最高画質を実現するならAV1</li>\n<li>動画の品質の評価基準\n<ul>\n<li>QoS: 定量的な値</li>\n<li>QoE: 体感品質値</li>\n</ul></li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>特許問題（本題）</h4>\n    \n<ul>\n<li>2019/03: SISVELが特許プールを開始する宣言</li>\n<li>2019/04: AOMの声明（安心してねの一言）</li>\n<li>今の時点では、コンシューマデバイスからのみ\n<ul>\n<li>その先は未定</li>\n<li>特許リストも未公開</li>\n</ul></li>\n<li>対象はNecessary Claims\n<ul>\n<li>代替不可かどうかが分かれ目</li>\n</ul></li>\n<li>防衛的契約解除</li>\n<li>特許料は払う必要があるのか\n<ul>\n<li>建前としては必要</li>\n<li>侵害の訴えがないなら平気ではある</li>\n<li>ただし訴えられたら差し押さえや請求が・・</li>\n</ul></li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>おまけ: NTT Comはどうなる？</h4>\n    \n<ul>\n<li>SISVELが特許請求の訴訟をすると、NTTは使えなくなるはず</li>\n<li>子会社にその影響があるか？\n<ul>\n<li>見方によるのでなんともいえない</li>\n<li><a href=\"https://twitter.com/dynamitter/status/1133704066863734786\">https://twitter.com/dynamitter/status/1133704066863734786</a></li>\n</ul></li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>質問コーナー</h4>\n    \n<ul>\n<li>待ってればもっといいコーデックが出てくるかもだが、それでもAV1を使う未来しかない？</li>\n<li>既にブラウザなどに実装されてるのがポイント\n<ul>\n<li>そのメリットをどう捉えるか</li>\n</ul></li>\n<li>音声はOpus（ロイヤリティーフリー）だと思うんですが、関連どうでしょうか？\n<ul>\n<li>そんなに広がってないからまだ何も動きがないのかも</li>\n<li>もしかしたらこの機に動きが・・？</li>\n</ul></li>\n</ul>\n</div>\n</div>\n<div class=\"section\">\n    <h3>ライブ配信サービスのバックエンド by hhan</h3>\n    \n    <blockquote>\n        <p>資料は見つけたら</p>\n\n    </blockquote>\n\n<div class=\"section\">\n    <h4>自己紹介</h4>\n    \n<ul>\n<li>韓国からきました</li>\n<li>リモートモンスターという会社でWebRTCやってます\n<ul>\n<li><a href=\"https://www.remotemonster.com/\">https://www.remotemonster.com/</a></li>\n<li>P2Pとライブ配信のサービスがある</li>\n<li>ライブ配信のところでJanusを使ってる</li>\n</ul></li>\n<li>Janusを選んだワケ\n<ul>\n<li>最初はパフォーマンスを重視して</li>\n<li>コアとプラグインで様々な使い方ができる</li>\n</ul></li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>Janusへの不満</h4>\n    \n<ul>\n<li>それで完成しているので、既存サービスへの導入が難しい</li>\n<li>モニタリングや操作などに別のコネクションが必要</li>\n<li>ブラウザより放送のセットアップにかかる時間が長い\n<ul>\n<li>遅いときは10秒とか</li>\n</ul></li>\n<li>ドキュメントが難解で初心者にはきびしい</li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>バックエンドの構成</h4>\n    \n<ul>\n<li>配信用のSDKがある</li>\n<li>まずHTTPでAuthサーバーへつなぐ</li>\n<li>Redisにトークンを払い出し</li>\n<li>それをSignサーバーへリクエスト</li>\n<li>SignはそこからMediaサーバーのOriginを割り当ててもらう</li>\n<li>その割当と同時に、MediaサーバーのEdgeも割当\n<ul>\n<li>これでOriginからEdgeへフォワーディングできるように</li>\n</ul></li>\n<li>視聴用のSDKでは、Edgeサーバーにつなぎにいく</li>\n<li>AWS ECRでスケールアウト\n<ul>\n<li>メディアサーバーは対応してるが、中央集権的になってるSignサーバーはまだ</li>\n</ul></li>\n<li>インフラ費用はもう少し下げたい気持ちがある</li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>質問コーナー</h4>\n    \n<ul>\n<li>Janusで録画もできますか？\n<ul>\n<li>できます</li>\n<li>それ用のコンテナを用意してffmpeg使ったりしてる</li>\n</ul></li>\n</ul>\n</div>\n</div>\n<div class=\"section\">\n    <h3>TwilioとWebRTC by @24guchia</h3>\n    \n    <blockquote>\n        <p><a href=\"https://www.slideshare.net/ssuser4d37c8/twiliowebrtc\">Twilio&#x3068;WebRTC</a></p>\n\n    </blockquote>\n\n<div class=\"section\">\n    <h4>自己紹介</h4>\n    \n<ul>\n<li>レバレジーズ社より</li>\n<li>Twilioで社内向けコンタクトセンター開発してます</li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>Twilioとは</h4>\n    \n<ul>\n<li><a href=\"https://www.twilio.com/\">https://www.twilio.com/</a></li>\n<li>電話、SMS、LINE通話などともAPIで通話できる\n<ul>\n<li>電話！</li>\n</ul></li>\n<li>最近SendGridを買収したらしい</li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>TwilioとWebRTC</h4>\n    \n<ul>\n<li>音声通話（Voice）と動画（Video）で使われてるWebRTC</li>\n<li>JS-SDKがあるのですぐに使える\n<ul>\n<li>とはいえWebRTCの知識は必要</li>\n</ul></li>\n<li>Unified Planは1.7系から\n<ul>\n<li>それまではPlan B依存だった</li>\n</ul></li>\n<li>OPUS/PCMU</li>\n<li>モダンブラウザはすべてサポート</li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>Twilioのいいところ</h4>\n    \n<ul>\n<li>電話とLINEにつなげられる</li>\n<li>どちらも日本のインフラとして定着してるといえる</li>\n</ul>\n</div>\n</div>\n<div class=\"section\">\n    <h3>Google Cloud Runはシグナリングに使えるか？ by @massie_g</h3>\n    \n    <blockquote>\n        <p><a href=\"https://qiita.com/massie_g/items/f1ffed2de52ff6a0d264\">Google Cloud Run &#x306F; WebRTC&#x306E;&#x30B7;&#x30B0;&#x30CA;&#x30EA;&#x30F3;&#x30B0;&#x30B5;&#x30FC;&#x30D0;&#x30FC;&#x306B;&#x4F7F;&#x3048;&#x308B;&#x304B;&#xFF1F; - Qiita</a></p>\n\n    </blockquote>\n\n<div class=\"section\">\n    <h4>Cloud Runとは</h4>\n    \n<ul>\n<li><a href=\"https://cloud.google.com/run/\">https://cloud.google.com/run/</a></li>\n<li>自分で用意したコンテナを、GCP上で動かせる</li>\n<li>もちろんスケールアウトもしてくれる</li>\n<li>できないこと\n<ul>\n<li>データの永続化や保存</li>\n<li>コンテナの中には持てない</li>\n</ul></li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>やってみた</h4>\n    \n<ul>\n<li>1:1のビデオチャット</li>\n<li>WebSocketとHTTPサーバーを立てるコンテナを用意\n<ul>\n<li><a href=\"https://github.com/mganeko/webrtc_1to1\">https://github.com/mganeko/webrtc_1to1</a></li>\n</ul></li>\n<li>だめだった\n<ul>\n<li>HTTPからWebSocketへのアップグレードで400が返ってくる</li>\n<li>HTTPしか使えない模様</li>\n</ul></li>\n<li>Socket.IOなら自動でフォールバックしてくれるからつながった</li>\n<li>リクエストが増えてくると、自動的にスケールアウトしてしまう\n<ul>\n<li>そのタイミングでP2P相手がいなくなる可能性</li>\n<li>実用的ではないですね・・</li>\n</ul></li>\n</ul>\n</div>\n</div>\n<div class=\"section\">\n    <h3>Chrome M75から chrome://webrtc-internals が新しくなります\tby @Tukimikage</h3>\n    \n    <blockquote>\n        <p><a href=\"https://qiita.com/yusuke84/items/428affe75affa16f104d\">Chrome M75&#x304B;&#x3089; chrome://webrtc-internals &#x304C;&#x65B0;&#x3057;&#x304F;&#x306A;&#x308A;&#x307E;&#x3059; - Qiita</a></p>\n\n    </blockquote>\n\n<div class=\"section\">\n    <h4>webrtc-internals</h4>\n    \n<ul>\n<li>Chromeに搭載されているデバッグツール\n<ul>\n<li>`chrome://webrtc-internals`</li>\n</ul></li>\n<li>Stats APIを使って得たデータを表示している\n<ul>\n<li>APIの仕様策定が進んでいる</li>\n</ul></li>\n<li>Callbackベースの`getStats()`は、Promiseベースになる\n<ul>\n<li>ChromeのM75から（06/04あたりの予定）</li>\n</ul></li>\n<li>セッション情報をダンプできる機能がある\n<ul>\n<li>`webrtc-dump-importer`は現状まだ対応してない模様</li>\n<li><a href=\"https://fippo.github.io/webrtc-dump-importer/\">https://fippo.github.io/webrtc-dump-importer/</a></li>\n</ul></li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>どう変わるのか</h4>\n    \n<ul>\n<li>基本的な部分のUIは変わってない</li>\n<li>`getStats()`で取れるであろうデータの表示UIが変わってる</li>\n<li>使われてるCandidateのペアが太字になってたのがなくなる\n<ul>\n<li>Transport情報を見て、使われてるペアのIDを確認してから、そのペアの情報を見る</li>\n<li>Candidateのtypeは、そのペアでcandidateのIDを確認してから・・・</li>\n</ul></li>\n<li>このように、プリミティブな情報が表示される</li>\n</ul>\n</div>\n</div>"
}
