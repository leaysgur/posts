{
  "title": "特定のURLで動作するChromeExtensionをつくる",
  "html": "<p><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Google%20Chrome\">Google Chrome</a>のエクステンションのネタです。</p><p>昔書いた記事もありますが、イマイチ実践的な感じではないので改めて。</p>\n\n    <blockquote>\n        <p>参考：<a href=\"http://lealog.hateblo.jp/entry/2013/01/29/004617\" target=\"_blank\" title=\"いまさらまとめるChrome ExtensionでのJavaScript挿入 - console.lealog();\">いまさらまとめるChrome ExtensionでのJavaScript挿入 - console.lealog();</a></p>\n\n    </blockquote>\n<p>とはいえやはり、タブどうしでやりとりしたり・・はしてません。<br />\nPage Actionといわれる<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%B3%C8%C4%A5%B5%A1%C7%BD\">拡張機能</a>の体裁を取り繕うために、何が必要かをメモしただけです。<br />\n<br />\n</p>\n\n<div class=\"section\">\n    <h3><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%C6%C3%C4%EA\">特定</a>のURL・ページで動作させる</h3>\n    <p>キーワードは以下。</p>\n\n<ul>\n<li>Page Action</li>\n<li>Content Script</li>\n</ul>\n</div>\n<div class=\"section\">\n    <h3>Page Action</h3>\n    <p><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Chrome\">Chrome</a>のエクステンションには2種類あって、</p>\n\n<ul>\n<li>Browser Action</li>\n<li>Page Action</li>\n</ul><p>どこのページでも使える<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A4%CF%A4%C6%A5%D6\">はてブ</a>のやつみたいなのはBrowser Actionです。<br />\nSPDY対応かどうかチェックするやつみたく、<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%C6%C3%C4%EA\">特定</a>のURLでアレコレしたいものがPage Actionです。</p>\n\n    <blockquote>\n        <p>実際は「どこにアイコン出したいか」の差しかないような認識です・・。</p>\n\n    </blockquote>\n\n</div>\n<div class=\"section\">\n    <h3>Content Script</h3>\n    <p><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%B3%C8%C4%A5%B5%A1%C7%BD\">拡張機能</a>側から閲覧してるページに対してコードを差し込むためにはいくつか方法がありますが、<br />\nその中で一番お手軽で強力なやつがコレ。</p>\n\n</div>\n<div class=\"section\">\n    <h3>コード</h3>\n    <p>今までは逐一ココに書いてましたが、今回は<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Github\">Github</a>にあげてありますのでそちらをどうぞ。</p>\n\n    <blockquote>\n        <p>参考：<a href=\"https://github.com/leader22/chrome-page-action-scheleton\" target=\"_blank\" title=\"leader22/chrome-page-action-scheleton\">leader22/chrome-page-action-scheleton</a></p>\n\n    </blockquote>\n\n<div class=\"section\">\n    <h4>ポイント</h4>\n    <p>箇条書きで。</p>\n\n<ul>\n<li>background.jsからアクセスできるwindowは、閲覧してるページのwindowとは別モノ</li>\n<li>main.jsは、manifest.<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/json\">json</a>でweb_accessible_resourcesの指定をする必要がある</li>\n<li>content_scriptの設定にあるrun_atはアテにしちゃいけない</li>\n<li><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%C6%C3%C4%EA\">特定</a>のURLかどうかは、manifestのmatchで絞るか、main.jsでLocationから判断</li>\n<li>単純にコード実行したいだけならContent Scriptだけで問題ない</li>\n<li>無名関数でくくってるけどたぶんいらない</li>\n</ul>\n</div>\n</div>"
}
