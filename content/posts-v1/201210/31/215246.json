{
  "title": "MacのAutomatorでPHPを使いたいなら",
  "html": "<p>MacにはPHPがプリインストールされてるのに、なぜかAutomatorでは動かすスクリプトの選択肢にすら現れません。</p><p>これは困った！というわけで。<br />\n設定変えれば普通に使えます。</p>\n\n    <blockquote>\n        <p>参考：<a href=\"http://www.patrickpatoray.com/index.php?Page=112\" target=\"_blank\" title=\"Use PHP shell scripts within Automator Actions\">Use PHP shell scripts within Automator Actions</a></p>\n\n    </blockquote>\n\n<div class=\"seemore\">\n    \n<div class=\"section\">\n    <h3>設定に追記する</h3>\n    <p>ターミナルでもFinderでも良いので以下を。</p>\n<pre class=\"code\" data-unlink>cd /System/Library/Automator/Run\\ Shell\\ Script.action/Contents/Resources\nsudo vi Shells.plist</pre><p>そしたらば105行目あたりがわかりやすいので以下を追記します。</p>\n<pre class=\"code\" data-unlink>&lt;key&gt;/usr/bin/php&lt;/key&gt;\n&lt;dict&gt;\n  &lt;key&gt;args&lt;/key&gt;\n  &lt;array&gt;\n    &lt;string&gt;-r&lt;/string&gt;\n    &lt;string&gt;%&lt;/string&gt;\n  &lt;/array&gt;\n          \n  &lt;key&gt;script&lt;/key&gt;\n  &lt;array&gt;\n    &lt;string&gt;$line = trim(fgets(STDIN));&lt;/string&gt;\n    &lt;string&gt;foreach ($argv as $arg) { echo $arg; }&lt;/string&gt;\n  &lt;/array&gt;\n&lt;/dict&gt;</pre><p>perlとpythonの似たようなブロックがあるので、そのスキマです。</p><p>そうすると、あら不思議！<br />\n#/usr/bin/php がスクリプトとして選べるようになります。</p>\n\n</div>\n<div class=\"section\">\n    <h3>使わないのはもったいない</h3>\n    <p>そもそもAutomatorって？という方は、是非調べてみてください！便利なので！</p>\n\n<ul>\n<li>フォルダのバックアップを決まった時間に取るようにするとか</li>\n<li>iPhoneの写真を取り込むとか</li>\n<li>などなど</li>\n</ul><p>Macでできることは大抵できる・わかりやすいバッチが作れる・・みたいなイメージです。</p>\n\n</div>\n</div>"
}
