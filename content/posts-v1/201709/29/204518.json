{
  "title": "SkyWay Developer Meetup #1 に行ってきたメモ #WebRTCSkyWay",
  "html": "<p>行ってきたし、LTで発表もしてきました。</p><p>スタッフ・ドリンク・フードの潤沢さに大企業の影を見たやで・・・！<br />\n<br />\n</p>\n\n<div class=\"section\">\n    <h3>SkyWayの目指す世界 by @mizuman_</h3>\n    \n    <blockquote>\n        <p><a href=\"https://www.slideshare.net/mizuman1/skyway-vision-mission/1\">SkyWay Vision &amp; Mission</a></p>\n\n    </blockquote>\n\n<div class=\"section\">\n    <h4>SkyWayの歩み</h4>\n    \n<ul>\n<li>5590のユーザー</li>\n<li>9036のサービス</li>\n<li>300+の企業と</li>\n<li>488973/日接続！</li>\n<li>いろんなことができることがわかり、晴れて商用化！</li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>SkyWayは何をしてくれるのか</h4>\n    \n<ul>\n<li>WebRTCは難しい</li>\n<li>そこを簡単に使えるように</li>\n<li>本業のア<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%A4%A5%C7%A5%A2\">イデア</a>や<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%A4%A5%CE%A5%D9%A1%BC%A5%B7%A5%E7%A5%F3\">イノベーション</a>に集中してもらう</li>\n<li>ブラウザ / <a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/iOS\">iOS</a> / <a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Android\">Android</a> / IoT</li>\n<li>無料のコミュニティエディションもあるよ\n<ul>\n<li>通信料の制限はあるが毎日キーを変えれば・・</li>\n</ul></li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>お願い</h4>\n    \n<ul>\n<li>開発者同士でもっとつながって</li>\n<li>ア<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%A4%A5%C7%A5%A2\">イデア</a>を共有するとか</li>\n<li>コラボレーションすればできることは無限大</li>\n</ul>\n</div>\n</div>\n<div class=\"section\">\n    <h3>SkyWayを使いこなすために by @iwashi86</h3>\n    \n    <blockquote>\n        <p><a href=\"https://www.slideshare.net/iwashi86/skyway-how-to-use-skyway-webrtc\">SkyWay&#x3092;&#x4F7F;&#x3044;&#x3053;&#x306A;&#x3059;&#x305F;&#x3081;&#x306B; - How to use SkyWay (WebRTC)</a></p>\n\n    </blockquote>\n\n<div class=\"section\">\n    <h4>はじめに</h4>\n    \n<ul>\n<li>SkyWay = Peer.js？</li>\n<li>当初は依存してた\n<ul>\n<li>しかし今は違うよ</li>\n<li><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%D5%A5%EB%A5%B9%A5%AF%A5%E9%A5%C3%A5%C1\">フルスクラッチ</a>だよ！</li>\n</ul></li>\n<li><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Safari\">Safari</a>しか持ってないような最新の<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/API\">API</a>にも対応してるよ</li>\n<li><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/API\">API</a>をPeer.js互換にしたのは、<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%B8%E5%CA%FD%B8%DF%B4%B9\">後方互換</a>のため\n<ul>\n<li><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%DE%A5%A4%A5%B0%A5%EC%A1%BC%A5%B7%A5%E7%A5%F3\">マイグレーション</a>も公式サイトで案内</li>\n</ul></li>\n<li>今後もsemverで、メジャーは変えない予定</li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>基本</h4>\n    \n<ul>\n<li>`new Peer()`するときに\n<ul>\n<li>config: `RTCPeerConnection`へのコンフィグも渡せる</li>\n<li>debug: ログレベルを設定できるし、サポートも答えやすいかも</li>\n</ul></li>\n<li>1:1したいなら\n<ul>\n<li>`peer.call()`するだけ</li>\n<li>受け取ったら`video.srcObject`に</li>\n</ul></li>\n<li>N:Nならフルメッシュと<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/SFU\">SFU</a>のルームがあるよ\n<ul>\n<li><a href=\"https://conf.webrtc.ecl.ntt.com/\">https://conf.webrtc.ecl.ntt.com/</a> で動作も試せるよ</li>\n</ul></li>\n<li>DataChannelの場合は、`peer.connect()`\n<ul>\n<li>ルームのDataChannelの中身は現状WebSocketです</li>\n</ul></li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>応用</h4>\n    \n<ul>\n<li>帯域の指定ができるので、<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/P2P\">P2P</a>でも頑張れる\n<ul>\n<li>`peer.call(peerId, stream, { videoBandwidth, audioBandwidth })`</li>\n</ul></li>\n<li>コーデックも変えられる\n<ul>\n<li>`peer.call(peerId, stream, { videoCodec, audioCodec })`</li>\n<li>H264にしたりVP9とかも</li>\n</ul></li>\n<li>中でSDPを書き換えてます</li>\n<li>`peer.call(peerId, stream, { metadata })`\n<ul>\n<li>好きなデータを渡したい時に使える</li>\n</ul></li>\n<li>`peer.call()`でストリームを渡さないと、受信専用に\n<ul>\n<li><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/P2P\">P2P</a>でツリーを形成すれば・・・</li>\n</ul></li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>ハック</h4>\n    \n<ul>\n<li><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%C7%A5%D0%A5%C3%A5%B0\">デバッグ</a>\n<ul>\n<li>`call._negotiator._pc.getStats()`で情報を引っこ抜ける</li>\n</ul></li>\n<li>TURN as a Service\n<ul>\n<li>`new Peer()`したときに実は取得してる</li>\n<li>`peer._pcConfig.iceServers`でわかる</li>\n</ul></li>\n<li>STUN/TURNサーバーの場所\n<ul>\n<li>日本、<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%B7%A5%F3%A5%AC%A5%DD%A1%BC%A5%EB\">シンガポール</a>、オランダ、アメリカ</li>\n<li>近いところを自動的に</li>\n<li><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/TLS\">TLS</a>をほどくProxyとかを通らない限り、ほとんどのケースでつながる</li>\n</ul></li>\n<li><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/SFU\">SFU</a>\n<ul>\n<li>現状サーバーは東京のみ</li>\n</ul></li>\n<li>24時間つなぎっぱなしでも安定稼働してます</li>\n<li><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/SDK\">SDK</a>\n<ul>\n<li>ブラウザ / <a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/iOS\">iOS</a> / <a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Android\">Android</a> / IoT(β)</li>\n<li>ブラウザに関しての対応ブラウザは、<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Safari\">Safari</a>とEdgeも一応動く（<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/P2P\">P2P</a>）</li>\n</ul></li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>その他</h4>\n    \n<ul>\n<li>画面共有のライブラリもあるよ\n<ul>\n<li><a href=\"https://github.com/skyway/skyway-screenshare\">https://github.com/skyway/skyway-screenshare</a></li>\n</ul></li>\n<li>認証\n<ul>\n<li>正式版のみシークレットキーを用意</li>\n<li>timestampと組み合わせて<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%C8%A1%BC%A5%AF\">トーク</a>ンに</li>\n<li><a href=\"https://github.com/skyway/skyway-peer-authentication-samples\">https://github.com/skyway/skyway-peer-authentication-samples</a></li>\n</ul></li>\n</ul>\n</div>\n</div>\n<div class=\"section\">\n    <h3><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/iOS\">iOS</a>でのSkyWay開発の勘所とTips by @jumboOrNot</h3>\n    \n    <blockquote>\n        <p><a href=\"https://speakerdeck.com/jumbo_ken/iosdefalseskywaykai-fa-falsekan-suo-totips-ririsuhou-xin-sdkbian\">iOS&#x3067;&#x306E;SkyWay&#x958B;&#x767A;&#x306E;&#x52D8;&#x6240;&#x3068;Tips &#xFF08;&#x30EA;&#x30EA;&#x30FC;&#x30B9;&#x5F8C;&#x30FB;&#x65B0;SDK&#x7DE8;&#xFF09; // Speaker Deck</a></p>\n\n    </blockquote>\n<p>自分の資料をなおしてたのでメモる暇なかったですごめんなさい！</p><p>Meetupでもおなじみ？のレアジョブのお方による<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/iOS\">iOS</a> x Firebaseのお話でした。</p>\n\n</div>\n<div class=\"section\">\n    <h3>Skywayの<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%D3%A5%C7%A5%AA%A5%C1%A5%E3%A5%C3%A5%C8\">ビデオチャット</a>を録画しよう。そう、ブラウザでね by @massie_g</h3>\n    \n    <blockquote>\n        <p><a href=\"https://www.slideshare.net/mganeko/skyway-mix-recording\">Skyway&#x306E;&#x30D3;&#x30C7;&#x30AA;&#x30C1;&#x30E3;&#x30C3;&#x30C8;&#x3092;&#x9332;&#x753B;&#x3057;&#x3088;&#x3046;&#x3002;&#x305D;&#x3046;&#x3001;&#x30D6;&#x30E9;&#x30A6;&#x30B6;&#x3067;&#x306D;</a></p>\n\n    </blockquote>\n\n<ul>\n<li>SkyWayは録画機能ないですよね</li>\n<li>ブラウザでできるよ</li>\n<li>`<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/canvas\">canvas</a>.captureStream()`</li>\n<li>音は`WebAudio`</li>\n<li>あとは`MediaRecorder`で</li>\n<li>複数のストリームを1つの<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/canvas\">canvas</a>にrAFで書いてる</li>\n<li>音声も複数のストリームを1つのAudioNodeにつなぐ</li>\n<li>最後にそれぞれのTrackを、Streamにまとめて録画</li>\n</ul>\n</div>\n<div class=\"section\">\n    <h3>SkyWay JS <a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/SDK\">SDK</a>の歩き方 by @leader22</h3>\n    \n    <blockquote>\n        <p><a href=\"https://leader22.github.io/slides/skyway_dev_meetup-1/\">SkyWay JS SDK&#x306E;&#x6B69;&#x304D;&#x65B9;</a></p>\n\n    </blockquote>\n<p>5分なのでかるーく。</p>\n\n</div>\n<div class=\"section\">\n    <h3>SkyWay × cognitive service by @lz650sss</h3>\n    \n    <blockquote>\n        <p><a href=\"https://qiita.com/sublimer/items/9207b7e6aeaf75717d43\">SkyWay &times; Cognitive Service - Qiita</a></p>\n\n    </blockquote>\n\n<ul>\n<li>Cognitive Service</li>\n<li>MSのサービス\n<ul>\n<li><a href=\"https://azure.microsoft.com/ja-jp/services/cognitive-services/\">https://azure.microsoft.com/ja-jp/services/cognitive-services/</a></li>\n</ul></li>\n<li>写真やgUMのストリームから、表情の認識をする<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/API\">API</a>を</li>\n<li>gUMでMediaStreamを取得、BlobにしてCSに投げる</li>\n<li>レスポンスをDataChannelで共有</li>\n<li>Face <a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/API\">API</a>以外にも色々ある</li>\n<li>組み合わせると、おもしろ<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%D3%A5%C7%A5%AA%A5%C1%A5%E3%A5%C3%A5%C8\">ビデオチャット</a>作れそう！</li>\n</ul>\n</div>\n<div class=\"section\">\n    <h3>SkyWay Q&A大会</h3>\n    \n<ul>\n<li>モデレーター: 我如古さん</li>\n<li>プロダクトマネージャー: 水嶋さん</li>\n<li>インフラ: 桂さん</li>\n<li>JS / <a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%B7%A5%B0%A5%CA%A5%EA%A5%F3%A5%B0\">シグナリング</a>サーバー: アレンさん</li>\n<li><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/iOS\">iOS</a> / <a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Android\">Android</a>: 高橋さん</li>\n</ul>\n<div class=\"section\">\n    <h4>いつnpmで使えるようになるの</h4>\n    \n<ul>\n<li>予定はあるよ</li>\n<li>Coming soonって感じ</li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/iOS\">iOS</a> / <a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Android\">Android</a>で<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/H.264\">H.264</a></h4>\n    \n<ul>\n<li><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/P2P\">P2P</a>のビデオ・メッシュは使えます\n<ul>\n<li><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/SFU\">SFU</a>はまだ</li>\n</ul></li>\n<li><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Android\">Android</a>は機種によってHW<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%A8%A5%F3%A5%B3%A1%BC%A5%C9\">エンコード</a>ができないので注意\n<ul>\n<li><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Android\">Android</a> 5.xとかなら大丈夫そう</li>\n</ul></li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%BE%E9%C4%B9%B2%BD\">冗長化</a>・負荷分散どうなってるの</h4>\n    \n<ul>\n<li><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%BE%E9%C4%B9%B2%BD\">冗長化</a>してるよ\n<ul>\n<li>電源レベルで</li>\n</ul></li>\n<li><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/SFU\">SFU</a>もこれから世界中にサーバーを配置していく予定</li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>時雨堂の<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/SFU\">SFU</a>とどう違うの</h4>\n    \n<ul>\n<li>Jitsi Video Bridgeを使ってる</li>\n<li>時雨堂\n<ul>\n<li>ライセンスを買って、自分のサーバーで動かすモデル</li>\n<li>配信向けなイメージ</li>\n</ul></li>\n<li>SkyWay\n<ul>\n<li>プラットフォーム</li>\n<li>双方向</li>\n</ul></li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>今後のロードマップ</h4>\n    \n<ul>\n<li>皆さんの使用状況をまず把握したい</li>\n<li><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%BE%E9%C4%B9%B2%BD\">冗長化</a>とか</li>\n<li>コーデックの対応とか</li>\n<li><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/SFU\">SFU</a>はα版と書いてあるが？\n<ul>\n<li>もう正式版です</li>\n</ul></li>\n<li><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Windows\">Windows</a>向けはどうすれば（<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/C%23\">C#</a>とかの<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/SDK\">SDK</a>・・\n<ul>\n<li>有志でラッパを書いてる人もいる</li>\n<li>Electronとか</li>\n<li>前向きに考えてはいる</li>\n</ul></li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>RaspPiで配信したい</h4>\n    \n<ul>\n<li>既に出してるIoT <a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/SDK\">SDK</a>でもできる</li>\n<li>Janusとか</li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>インフラチームの体制はどんな感じ？</h4>\n    \n<ul>\n<li>サーバー台数: 30くらい\n<ul>\n<li>BGDなので最大 x2くらい</li>\n</ul></li>\n<li>5−6人くらい</li>\n<li>24/365対応は、社内の監視部隊も</li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>CloudNですか？</h4>\n    \n<ul>\n<li>使ってません</li>\n<li>別のEnterpriseCloudっていうのを使ってる</li>\n<li>Azure / <a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/AWS\">AWS</a>とかも</li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>そのコストは？</h4>\n    \n<ul>\n<li>人件費が一番かかってるかな・・</li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>途切れた時にどんなコードを書けば？</h4>\n    \n<ul>\n<li>ブラウザごとに挙動が違うのが現状</li>\n<li>ブラウザでどうしようもない時に`close`イベント投げてる\n<ul>\n<li>回答では`disconnected`って言ってたけど、`close`イベントだったはず</li>\n</ul></li>\n<li>放置したらなおることもあるよ\n<ul>\n<li>ほんとだよ！</li>\n</ul></li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>アプリでも<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/SFU\">SFU</a>できる？</h4>\n    \n<ul>\n<li>コーデックの問題はあるが、使えます</li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/API\">API</a>キーの使い回しについて</h4>\n    \n<ul>\n<li>ユーザー体験を損なわないように・・</li>\n<li>良心の範囲でｗ</li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>コミュニティエディション -> <a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%A8%A5%F3%A5%BF%A1%BC%A5%D7%A5%E9%A5%A4%A5%BA\">エンタープライズ</a>エディション</h4>\n    \n<ul>\n<li>現状はコミュニティエディションの上限突破してもすぐ止めない</li>\n<li>メールでお知らせします</li>\n<li>なんなら一緒に移行プランを考えます</li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>仕事楽しい？</h4>\n    \n<ul>\n<li>楽しいよ！</li>\n<li>WebRTCはこれから！</li>\n</ul><p>WebRTC業界、キテますねー！(∩´∀｀)∩</p>\n\n</div>\n</div>"
}
