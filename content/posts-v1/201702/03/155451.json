{
  "title": "CircleCIでYarnを使おうとしたら、phantomjs-prebuiltがインストールできなかった対応",
  "html": "<p>とある昔ながらのプロジェクトで、CircleCIでyarnしようとしたときにコケた。<br />\n<br />\n<br />\n</p>\n\n<div class=\"section\">\n    <h3>Path must be a string. Received undefined</h3>\n    <p>とかいってエラーになってビルドがコケる。<br />\nなぜか。</p>\n\n</div>\n<div class=\"section\">\n    <h3>設定の見直し</h3>\n    <p>念のために。<br />\n必要なステップは2つ。</p>\n\n<div class=\"section\">\n    <h4>circle.yml</h4>\n    <p><a href=\"https://circleci.com/docs/yarn/\">Using Yarn (the npm replacement) on CircleCI - CircleCI</a> にある設定内容を、`circle.yml`にちゃんと定義する。</p>\n\n</div>\n<div class=\"section\">\n    <h4>Build Environment</h4>\n    <p>プロジェクトの設定にあるので変える。<br />\n`yarn`がプリインストールされてるのは、`Ubuntu 14.04`以降。</p>\n\n</div>\n</div>\n<div class=\"section\">\n    <h3>それでもダメ</h3>\n    <p>このプロジェクトのどこで`phantomjs`なんか使ってるんやろーと思ったら、e2eテストのための`karma-phantomjs-launcher`がいた。</p><p>バージョンがだいぶ古かったので、最新にあげた。</p>\n\n</div>\n<div class=\"section\">\n    <h3>するとエラーが消えた</h3>\n    <p>やったね。<br />\nどうやら中で依存してる古い`phantomjs-prebuild`が原因だったらしい。</p><p>See <a href=\"https://github.com/yarnpkg/yarn/issues/987\">https://github.com/yarnpkg/yarn/issues/987</a></p>\n\n</div>"
}
