{
  "title": "Use before declarationとかいうEdgeのエラー ",
  "html": "<p>ReactなプロジェクトでEdgeでだけ動かないケースがあって調べてた。</p>\n\n    <blockquote>\n        <p><a href=\"https://github.com/Microsoft/ChakraCore/issues/2606\">Expression-body arrow function parameter destructuring &quot;Use before declaration&quot; error when parameter is only used in an inner function &middot; Issue #2606 &middot; Microsoft/ChakraCore &middot; GitHub</a></p>\n\n    </blockquote>\n<p>これ。<br />\nまじ勘弁してほしい。</p>\n\n<ul>\n<li>Edge 40.15063.0.0</li>\n<li>EdgeHTML 15.15063</li>\n</ul>\n<div class=\"section\">\n    <h3>原因となるコード</h3>\n    <p>Reactやってればだいたいみんな書いてそうなSFCのこれ。</p>\n<pre class=\"code lang-javascript\" data-lang=\"javascript\" data-unlink><span class=\"synStatement\">const</span> Foo = (<span class=\"synIdentifier\">{</span> mode <span class=\"synIdentifier\">}</span>) =&gt; (\n  &lt;div&gt;<span class=\"synIdentifier\">{</span>mode<span class=\"synIdentifier\">}</span>&lt;/div&gt;\n);\n</pre><p>`return`とか書かなくてシュッと書けていいですよね。<br />\nでもこれがEdgeだと、`mode`って変数が定義前に使われた！！「Use before declaration」！！とか言われる。</p>\n\n</div>\n<div class=\"section\">\n    <h3>Workaround 1</h3>\n    <p>1クッションはさむ。</p>\n<pre class=\"code lang-javascript\" data-lang=\"javascript\" data-unlink><span class=\"synStatement\">const</span> Foo = (<span class=\"synIdentifier\">{</span> mode <span class=\"synIdentifier\">}</span>) =&gt; <span class=\"synIdentifier\">{</span>\n  <span class=\"synStatement\">return</span> (\n    &lt;div&gt;<span class=\"synIdentifier\">{</span>mode<span class=\"synIdentifier\">}</span>&lt;/div&gt;\n  );\n<span class=\"synIdentifier\">}</span>;\n</pre><p>`return`って書きたくないっつーのに・・。</p>\n\n</div>\n<div class=\"section\">\n    <h3>Workaround 2</h3>\n    <p>Destructuringしない。</p>\n<pre class=\"code lang-javascript\" data-lang=\"javascript\" data-unlink><span class=\"synStatement\">const</span> Foo = (props) =&gt; (\n  &lt;div&gt;<span class=\"synIdentifier\">{</span>props.mode<span class=\"synIdentifier\">}</span>&lt;/div&gt;\n);\n</pre><p>ナシではないが全部書き換えるの面倒くさすぎる・・。</p>\n\n</div>\n<div class=\"section\">\n    <h3>Workaround 3</h3>\n    <p>Babelを使う。</p>\n\n<ul>\n<li>`preset-es2015`</li>\n<li>`transform-es2015-arrow-functions`</li>\n</ul><p>どっちか。<br />\nArrow functionとDestructuringのどっちが悪いのかは追ってない。</p>\n\n</div>\n<div class=\"section\">\n    <h3>Workaround 4</h3>\n    <p>Edgeを非対応にする。<br />\nそのうちなおるやろってことで。</p>\n\n</div>"
}
