{
  "title": "2014年 position: fixedの旅",
  "html": "<p>もう少しなんとかならんのかねコレ。</p>\n\n    <blockquote>\n        <p>個人のメモ的に書き残しておきますが、<br />\n再現する最小パターンを精査したわけではなく、<br />\n他のスタイルとの兼ね合いやらなんやらで発生してる可能性もあるので、そういう感じで見てください。</p>\n\n    </blockquote>\n\n<div class=\"section\">\n    <h3>Can I use..</h3>\n    \n    <blockquote>\n        <p><a href=\"http://caniuse.com/#feat=css-fixed\" target=\"_blank\" title=\"Can I use... Support tables for HTML5, CSS3, etc\">Can I use... Support tables for HTML5, CSS3, etc</a></p>\n\n    </blockquote>\n<p>という感じで、去年の時点では現役バリバリなiOS5以下、Android2系はもはや考えないとすれば、<br />\nもう採用！ってしても良い感じですかね。</p>\n\n</div>\n<div class=\"section\">\n    <h3>だがしかし</h3>\n    <p>やつらは込み入ってくると事故ります・・ということで、最近遭遇した珍事件を以下に。</p>\n\n<div class=\"section\">\n    <h4>ページのunload時に要素が消える(~iOS7)</h4>\n    <p>position: fixedになったせいでコンポジットされてしまったからか、<br />\nページ遷移の間際に我先にといなくなります。</p><p>コレで何が困るかというと、いわゆるローディングの表示を出すレイヤーを手前に1枚置いてた場合、<br />\n最後の最後の肝心なところで下のコンテンツが見えちゃいます。</p><p>aタグ踏む前、フォーム送信する前に、fixedやめてbodyの高さ切ってーとかするっきゃない。<br />\nコンテンツのコンテナ消し去るってのもあながちアリかも。</p>\n\n</div>\n<div class=\"section\">\n    <h4>top: 0が迷子になる(Android4.x)</h4>\n    \n<ul>\n<li>position: fixedな要素をdisplay:noneし</li>\n<li>ページをscrollToなどでスクロールし</li>\n<li>その後でさっきの要素をdisplay: blockにすると</li>\n</ul><p>なぜかtop: 0ではない中途半端な位置から描画されてしまうことがあります。<br />\nちょっと画面さわったら戻ったりする。</p><p>なんでこんなことを・・と思いながら、<br />\ndisplay: blockにするタイミングでtop: 0を上書き指定すると、元通りになります。</p>\n\n</div>\n<div class=\"section\">\n    <h4>Viewportに対してfixed(iOS8~)</h4>\n    <p>これ最近気付きました。<br />\nいや、元からそうなんですけど！そうなんですけど、違うんです！<br />\n伝えにくいこの感じ！</p><p>例えば。</p><p>iOS7までは、</p>\n\n<ul>\n<li>ページのてっぺんに固定ヘッダみたくfixedな要素を配置</li>\n<li>その状態で↓方向にスクロールして上の方を見ようとすると、</li>\n<li>アドレスバーとコンテンツの間がびよーんってなる</li>\n<li>fixedな要素もコンテンツの上辺にくっついたまま、びよーんって。</li>\n</ul><p>なってたんですけど、</p><p>iOS8からは、</p>\n\n<ul>\n<li>アドレスバーとコンテンツの間がびよーんってなる</li>\n<li>ただし、fixedな要素はブラウザのViewportに対してピタッとしたまま。</li>\n</ul><p>なのでfixedの要素の下敷きになってた部分が見えちゃうんですよねーーー。</p><p>元よりコレぞfixedって感じではある。<br />\nせやけど・・せやけどね・・。</p><p>なんで挙動違うのとか言われてもAppleのせいですとしか言えませんねん。</p>\n\n</div>\n</div>\n<div class=\"section\">\n    <h3>というわけで</h3>\n    <p>2015年には幸せになりたいです。</p>\n\n    <blockquote>\n        <p>また何か踏んだら追記しますよっと。</p>\n\n    </blockquote>\n\n</div>"
}
