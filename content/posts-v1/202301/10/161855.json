{
  "title": "配列のインデックスを`.keys()`で操る",
  "html": "<p>TL;DRこちら。</p><p><blockquote data-conversation=\"none\" class=\"twitter-tweet\" data-lang=\"ja\"><p lang=\"ja\" dir=\"ltr\">for (let i = 0; i &lt; arr.length; i++)<br>は<br>for (let i of arr.keys())<br>って書けるし、中身もいるなら<br>for (let [i, d] of arr.entries())<br>ってする</p>&mdash; りぃ / Yuji Sugiura (@leader22) <a href=\"https://twitter.com/leader22/status/1612706432184635393?ref_src=twsrc%5Etfw\">2023年1月10日</a></blockquote> <script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script> <br />\n<br />\n</p>\n\n<div class=\"section\">\n    <h3 id=\"配列のインデックスでループ\">配列のインデックスでループ</h3>\n    <p>するとき、クラシックな書き方をしてきた。</p>\n<pre class=\"code lang-javascript\" data-lang=\"javascript\" data-unlink><span class=\"synStatement\">const</span> items = <span class=\"synIdentifier\">[</span><span class=\"synConstant\">&quot;いぬ&quot;</span>, <span class=\"synConstant\">&quot;ねこ&quot;</span>, <span class=\"synConstant\">&quot;ぺんぎん&quot;</span><span class=\"synIdentifier\">]</span>;\n\n<span class=\"synStatement\">for</span> (<span class=\"synIdentifier\">let</span> i = 0; i &lt; items.length; i++) <span class=\"synIdentifier\">{</span>\n  <span class=\"synStatement\">const</span> item = items<span class=\"synIdentifier\">[</span>i<span class=\"synIdentifier\">]</span>;\n  console.log(<span class=\"synIdentifier\">{</span> i, item <span class=\"synIdentifier\">}</span>);\n<span class=\"synIdentifier\">}</span>\n</pre><p>それが今や、もっと短く書ける時代に。</p>\n\n</div>\n<div class=\"section\">\n    <h3 id=\"Arrayprototypekeys\">Array.prototype.keys()</h3>\n    <pre class=\"code lang-javascript\" data-lang=\"javascript\" data-unlink><span class=\"synStatement\">const</span> items = <span class=\"synIdentifier\">[</span><span class=\"synConstant\">&quot;いぬ&quot;</span>, <span class=\"synConstant\">&quot;ねこ&quot;</span>, <span class=\"synConstant\">&quot;ぺんぎん&quot;</span><span class=\"synIdentifier\">]</span>;\n\n<span class=\"synStatement\">for</span> (<span class=\"synStatement\">const</span> i of items.keys()) <span class=\"synIdentifier\">{</span>\n  <span class=\"synStatement\">const</span> item = items<span class=\"synIdentifier\">[</span>i<span class=\"synIdentifier\">]</span>;\n  console.log(<span class=\"synIdentifier\">{</span> i, item <span class=\"synIdentifier\">}</span>);\n<span class=\"synIdentifier\">}</span>\n</pre><p>`Iterator`べんり。</p>\n\n</div>\n<div class=\"section\">\n    <h3 id=\"インデックスと一緒に中身もループしたい\">インデックスと一緒に中身もループしたい</h3>\n    <p>`Array.prototype.entries()`で。</p>\n<pre class=\"code lang-javascript\" data-lang=\"javascript\" data-unlink><span class=\"synStatement\">const</span> items = <span class=\"synIdentifier\">[</span><span class=\"synConstant\">&quot;いぬ&quot;</span>, <span class=\"synConstant\">&quot;ねこ&quot;</span>, <span class=\"synConstant\">&quot;ぺんぎん&quot;</span><span class=\"synIdentifier\">]</span>;\n\n<span class=\"synStatement\">for</span> (<span class=\"synStatement\">const</span> <span class=\"synIdentifier\">[</span>i, item<span class=\"synIdentifier\">]</span> of items.entries()) <span class=\"synIdentifier\">{</span>\n  console.log(<span class=\"synIdentifier\">{</span> i, item <span class=\"synIdentifier\">}</span>);\n<span class=\"synIdentifier\">}</span>\n</pre><p>中身だけほしい場合、`.values()`を使ってもいいけど、そのままでも回せる。</p>\n<pre class=\"code lang-javascript\" data-lang=\"javascript\" data-unlink><span class=\"synStatement\">const</span> items = <span class=\"synIdentifier\">[</span><span class=\"synConstant\">&quot;いぬ&quot;</span>, <span class=\"synConstant\">&quot;ねこ&quot;</span>, <span class=\"synConstant\">&quot;ぺんぎん&quot;</span><span class=\"synIdentifier\">]</span>;\n\n<span class=\"synStatement\">for</span> (<span class=\"synStatement\">const</span> item of items.value()) <span class=\"synIdentifier\">{</span>\n  console.log(item);\n<span class=\"synIdentifier\">}</span>\n<span class=\"synComment\">// OR</span>\n<span class=\"synStatement\">for</span> (<span class=\"synStatement\">const</span> item of items) <span class=\"synIdentifier\">{</span>\n  console.log(item);\n<span class=\"synIdentifier\">}</span>\n</pre><p>`Iterator`べんり。</p>\n\n</div>\n<div class=\"section\">\n    <h3 id=\"0-indexedな配列の生成\">0-indexedな配列の生成</h3>\n    <p>`.keys()`を利用することで、いわゆるレンジの配列もシュッと生成できる！</p>\n<pre class=\"code lang-javascript\" data-lang=\"javascript\" data-unlink><span class=\"synIdentifier\">[</span>...<span class=\"synType\">Array</span>(5).keys()<span class=\"synIdentifier\">]</span> <span class=\"synComment\">// [0, 1, 2, 3, 4]</span>\n</pre><p>ということをメモりたいだけの記事でした。</p>\n\n</div>"
}
