{
  "title": "WebRTC Meetup Tokyo #12 に行ってきたメモ #webrtcjp",
  "html": "<p>会場がいつもと違ってて、まさかの会社のすぐ近くやった。<br />\n<br />\n</p>\n\n<div class=\"section\">\n    <h3>Janus: a general purpose WebRTC server by @elminiero</h3>\n    \n    <blockquote>\n        <p><a href=\"http://www.slideshare.net/LorenzoMiniero/janus-meetup-tokyo-12\">Janus @ Meetup Tokyo #12</a></p>\n\n    </blockquote>\n<p>Janusという<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/OSS\">OSS</a>について。</p>\n\n<ul>\n<li>WebRTCの<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Gateway\">Gateway</a>サーバー</li>\n<li>普通にWebRTCするならSDPの<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%B7%A5%B0%A5%CA%A5%EA%A5%F3%A5%B0\">シグナリング</a>後に<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/P2P\">P2P</a></li>\n<li>けど<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Gateway\">Gateway</a>サーバーが間に立てば、いろんなことができる\n<ul>\n<li>クライアントの格差を吸収したり</li>\n<li>サーバーから配信したり（<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/SFU\">SFU</a>的な）</li>\n</ul></li>\n</ul>\n<div class=\"section\">\n    <h4>Janus</h4>\n    \n<ul>\n<li><a href=\"https://github.com/meetecho/janus-gateway\">https://github.com/meetecho/janus-gateway</a>\n<ul>\n<li>Janus（ヤヌス）は<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%ED%A1%BC%A5%DE%BF%C0%CF%C3\">ローマ神話</a>に出てくる前後に顔がある扉の神</li>\n</ul></li>\n<li>プラガブルに作られてて、コアはWebRTCスタックのみ\n<ul>\n<li>JSEP/SDP、ICE、DataCh、etc</li>\n</ul></li>\n<li>HTTP / WebSockets / MQTTなど複数の<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/TCP\">TCP</a>で動く<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%D7%A5%E9%A5%B0%A5%A4%A5%F3\">プラグイン</a>がある\n<ul>\n<li>なので作れば<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/JSON\">JSON</a>でJanusとやりとりもできる</li>\n</ul></li>\n<li>ブラウザ <-> (Janus Core = <a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%D7%A5%E9%A5%B0%A5%A4%A5%F3\">プラグイン</a>) <-> 各プラットフォーム\n<ul>\n<li>jsの<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/API\">API</a>: <a href=\"https://janus.conf.meetecho.com/docs/JS.html\">https://janus.conf.meetecho.com/docs/JS.html</a></li>\n</ul></li>\n<li><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%D7%A5%E9%A5%B0%A5%A4%A5%F3\">プラグイン</a>でできること\n<ul>\n<li>EchoTest</li>\n<li>Streaming(RTP)</li>\n<li>Recording</li>\n<li>TextChat(w/ DataChannel)</li>\n<li>などなど: <a href=\"https://janus.conf.meetecho.com/demos.html\">https://janus.conf.meetecho.com/demos.html</a></li>\n</ul></li>\n<li>AdminAPIってのがある\n<ul>\n<li>サーバーのスペック見たり</li>\n<li><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%C7%A5%D0%A5%C3%A5%B0\">デバッグ</a>用に設定変更とかできる</li>\n<li>非同期にイベント投げる機能はWIP</li>\n</ul></li>\n<li>負荷テストのためのJattack（Janus Attack）\n<ul>\n<li>WebSocketでPeerConnectionを作って使う</li>\n<li>WIPやけど使えるよ</li>\n</ul></li>\n<li>利用事例も結構あるよ\n<ul>\n<li>基本的なテレカンもあれば</li>\n<li>まさかのドローンを動かしたりも</li>\n<li>Sqiwiggleでの商用利用</li>\n<li><a href=\"https://beam.pro/\">https://beam.pro/</a></li>\n<li>Slackの音声通話で動いてるのもJanus</li>\n</ul></li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>今後の予定</h4>\n    \n<ul>\n<li>WebRTCスタックのアップデート\n<ul>\n<li>再<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%CD%A5%B4%A5%B7%A5%A8%A1%BC%A5%B7%A5%E7%A5%F3\">ネゴシエーション</a></li>\n<li>Multiストリーム</li>\n</ul></li>\n<li>Events <a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/API\">API</a></li>\n<li>Jattackの改善もしていきたい</li>\n</ul>\n</div>\n</div>\n<div class=\"section\">\n    <h3>WebRTC + RasPi by @tnoho</h3>\n    <p>RaspberryPiでWebRTCしたい話。</p>\n\n<div class=\"section\">\n    <h4>なんで？</h4>\n    \n<ul>\n<li><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Android\">Android</a> / <a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/iOS\">iOS</a>はソフトウェア<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%A8%A5%F3%A5%B3%A1%BC%A5%C9\">エンコード</a>なので、酷使すると落ちる\n<ul>\n<li>なにより安い</li>\n</ul></li>\n<li>実例は多い</li>\n<li>1. Janus x [gstreamer](<a href=\"https://gstreamer.freedesktop.org/\">https://gstreamer.freedesktop.org/</a>)\n<ul>\n<li><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/H.264\">H.264</a>のハードウェア<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%A8%A5%F3%A5%B3%A1%BC%A5%C9\">エンコード</a>が効く！</li>\n<li>まとめて制御するするために要<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Python\">Python</a><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%B9%A5%AF%A5%EA%A5%D7%A5%C8\">スクリプト</a></li>\n</ul></li>\n<li>2. OpenWebRTC\n<ul>\n<li>v0.0.4以降、消息が不明</li>\n</ul></li>\n<li>3. UV4L\n<ul>\n<li>VP8使える</li>\n<li>なので<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%C7%AE%CB%BD%C1%F6\">熱暴走</a>・・</li>\n<li>ただしクローズドソース</li>\n</ul></li>\n<li>どれを使うべきか\n<ul>\n<li>どれも一長一短で難あり</li>\n<li>よーし自分で作ろう！</li>\n</ul></li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>WebRTC Native Client Library</h4>\n    \n<ul>\n<li><a href=\"https://chromium.googlesource.com/external/webrtc\">https://chromium.googlesource.com/external/webrtc</a>\n<ul>\n<li><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Chrome\">Chrome</a>のWebRTC実装を切り出したもの</li>\n</ul></li>\n<li>ビルドするにはそのままだと数十GBと2GB↑のRAMがいる</li>\n<li>RasPi向けには、<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/x86\">x86</a>環境で、ARM向けにク<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%ED%A5%B9%A5%B3%A5%F3\">ロスコン</a>パイル</li>\n<li><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/qemu\">qemu</a> / debootstrap\n<ul>\n<li><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/qemu\">qemu</a>をdockerで動かす方法あれば教えてください</li>\n</ul></li>\n<li><a href=\"https://webrtc.org/\">https://webrtc.org/</a> のサンプルがそのまま動かない\n<ul>\n<li>raspbianだから？</li>\n</ul></li>\n<li>画像でない\n<ul>\n<li>USB Video Class(UVC)対応なら使える</li>\n</ul></li>\n<li>UV4Lほどパフォーマンスでない\n<ul>\n<li>VP8EncoderImpl::NumberOf..を上げる</li>\n<li>USBが遅いので<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/VGA\">VGA</a>でもMJPEGを使うべし</li>\n<li>チューニングしたいけどそもそもUSBカメラの画質が・・</li>\n</ul></li>\n</ul><p>専門外過ぎてよーわからんくなったのでメモはここまで！</p>\n\n</div>\n</div>\n<div class=\"section\">\n    <h3>Inside of 聖徳玉子 by o2</h3>\n    \n    <blockquote>\n        <p><a href=\"https://lab.infocom.co.jp/2016/08/theta.html\">THETA&#x3068;&#x5168;&#x65B9;&#x4F4D;&#x30DE;&#x30A4;&#x30AF;&#x3092;&#x7D44;&#x307F;&#x5408;&#x308F;&#x305B;&#x305F;&#x30A2;&#x30D7;&#x30EA;&#x3092;&#x4F5C;&#x308A;&#x307E;&#x3057;&#x305F;</a></p>\n\n    </blockquote>\n<p>これの話。</p>\n\n<ul>\n<li><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%C0%BB%C6%C1%C2%C0%BB%D2\">聖徳太子</a>ではなく聖徳玉子\n<ul>\n<li>ハード: <a href=\"http://www.sifi.co.jp/system/modules/pico/index.php?content_id=39\">http://www.sifi.co.jp/system/modules/pico/index.php?content_id=39</a></li>\n<li>ソフト: <a href=\"http://hark.jp/\">http://hark.jp/</a></li>\n</ul></li>\n<li>音の鳴ってる方向に向く</li>\n<li>画面分割</li>\n</ul>\n<div class=\"section\">\n    <h4>音の鳴ってる方向に向く</h4>\n    \n<ul>\n<li>HARKの3機能\n<ul>\n<li>定位を取得</li>\n<li>音源を分離</li>\n<li>それを解析</li>\n</ul></li>\n<li>ブラウザで<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/GUI\">GUI</a>から設定できる</li>\n<li>標準出力にSourceTrackerのログが出る</li>\n<li>それをGoで処理して角度に</li>\n<li>その角度の方向にカメラを向ける</li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>画面分割</h4>\n    \n<ul>\n<li>Thetaの動画</li>\n<li>getUserMedia -> video -> <a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/canvas\">canvas</a></li>\n<li>three.js x [thetaview.js](<a href=\"https://github.com/akokubo/ThetaViewer\">https://github.com/akokubo/ThetaViewer</a>)</li>\n<li>頂点マップにUV Texture貼り付け</li>\n<li>サブビューはそれぞれ<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/canvas\">canvas</a>に動画を</li>\n</ul><p>ThetaのViewer用のjs、探したらいっぱいあった・・。</p>\n\n<ul>\n<li><a href=\"https://github.com/shokai/theta-viewer.js\">https://github.com/shokai/theta-viewer.js</a></li>\n<li><a href=\"https://github.com/aike/thview.js\">https://github.com/aike/thview.js</a></li>\n<li><a href=\"https://github.com/akokubo/ThetaViewer\">https://github.com/akokubo/ThetaViewer</a></li>\n</ul>\n</div>\n</div>\n<div class=\"section\">\n    <h3>LT: <a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/SFU\">SFU</a>の<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%AF%A5%E9%A5%A6%A5%C9\">クラウド</a>サービスAnzuでWebRTCライブストリーミング配信やってみた by a-baba</h3>\n    <p>四国からわざわざこのために！</p>\n\n<ul>\n<li><a href=\"https://hirome-anzu-live.herokuapp.com/\">https://hirome-anzu-live.herokuapp.com/</a></li>\n<li>WebRTCで1対多配信したい\n<ul>\n<li><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/P2P\">P2P</a>: 配信側の帯域が・・</li>\n<li><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/MCU\">MCU</a>: 中継サーバーの帯域が・・</li>\n<li><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/SFU\">SFU</a>: これだ！</li>\n</ul></li>\n<li><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/SFU\">SFU</a>なら時雨堂！Anzu！\n<ul>\n<li><a href=\"https://anzu.shiguredo.jp/\">https://anzu.shiguredo.jp/</a></li>\n<li><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/GitHub\">GitHub</a>のアカウントさえあれば</li>\n</ul></li>\n<li>jsSDKはあるけど、<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/iOS\">iOS</a>どうしよう・・\n<ul>\n<li>アプリにしないと無理そう</li>\n<li>よし、<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/YouTube\">YouTube</a>で</li>\n<li>Anzuの録画機能を使ってもできるけど</li>\n</ul></li>\n<li>herokuの無料枠で使ってたが故にSleep -> あわてて課金</li>\n<li>11時間連続配信してもAnzuは落ちなかったすごい</li>\n<li>配信機材\n<ul>\n<li>PCは<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Mac\">Mac</a></li>\n<li>BGMはもう<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/iPhone\">iPhone</a>でやっちゃう</li>\n<li>VideoSwitcherには <a href=\"http://camtwiststudio.com/\">http://camtwiststudio.com/</a>\n<ul>\n<li><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/PinP\">PinP</a>とかもココで</li>\n</ul></li>\n</ul></li>\n</ul><p>次回は年明け1月くらいとのこと。</p>\n\n</div>"
}
