{
  "title": "#ウデマエアーカイブ の利用者動向など",
  "html": "<p>ゲームの話じゃなくてちゃんとしたWebっぽい記事ですよ！<br />\n読み物としてお楽しみください。</p><p>ハ<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%A4%A5%AB\">イカ</a>ラシティでの人生をこじらせすぎてこんなサービスを作ったんでした。</p><p><iframe src=\"https://hatenablog-parts.com/embed?url=https%3A%2F%2Fleader22.github.io%2Fika-rchive%2F%2F\" title=\"ウデマエアーカイブ\" class=\"embed-card embed-webcard\" scrolling=\"no\" frameborder=\"0\" style=\"display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;\"></iframe><cite class=\"hatena-citation\"><a href=\"https://leader22.github.io/ika-rchive//\">leader22.github.io</a></cite></p><p>そしてこれを公開してはや1ヶ月が経ったので、その経過と学びについてです。<br />\n<br />\n</p>\n\n<div class=\"section\">\n    <h3>利用者動向</h3>\n    <p>GoogleAnalyticsを仕込んだのはリリースして1週間経った後ですが、まぁこの9-10月のデータが初動を見るのに使えると思います。</p>\n\n<div class=\"section\">\n    <h4>概要</h4>\n    <p>ざっくり書くと、</p>\n\n<ul>\n<li>5,000 UU</li>\n<li>30,000 PV</li>\n</ul><p>です。<br />\nユーザー数は思ったよりも多くて、1ページしかないサービスやのに、このブログよりPVあります。<br />\nなんてこった。</p><p>推移としてはずっと微増で、最近は1,000セッション/日前後で落ち着いてます。<br />\nリアルタイムで見ると常時5人くらいいます。</p>\n\n</div>\n<div class=\"section\">\n    <h4>環境</h4>\n    <p>ここは想定通りでしたね。</p>\n\n<ul>\n<li>モバイル / <a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%BF%A5%D6%A5%EC%A5%C3%A5%C8\">タブレット</a>からのアクセスが80%</li>\n<li>そのうち、65%が<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/iPhone\">iPhone</a> / <a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/iPad\">iPad</a></li>\n<li><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Android\">Android</a>はだいたい1-3%で多種多様</li>\n</ul><p>このへんは前職でやってたサービスもだいたいこんな感じだったので、そんな驚きはなかったかな？<br />\nなぜかXepriaユーザーに絶大な人気です。</p><p>他の非公式<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%A4%A5%AB\">イカ</a>サービス運営の皆さん、モバイル対応すればもっとアクセス増えますよ。</p>\n\n<ul>\n<li>PC利用者は<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Chrome\">Chrome</a>がダントツ</li>\n<li><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/IE\">IE</a>利用者はほぼ<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/IE\">IE</a> 11で、Edgeは全然いない</li>\n<li>いわずもがな<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Mac\">Mac</a> : <a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Windows\">Windows</a> = 1.2 : 7.8くらいで<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Windows\">Windows</a>圧勝</li>\n</ul><p>こういうサービス使ってくれる<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%A4%A5%AB\">イカ</a>した皆さんは、それなりにIT<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%EA%A5%C6%A5%E9%A5%B7%A1%BC\">リテラシー</a>が高いことが判明。</p>\n\n</div>\n<div class=\"section\">\n    <h4>時間</h4>\n    <p>23時をピークにして、午前4-6時が底です。<br />\n23-3時枠が一番多いかとおもいきや、15-19時と19-23時枠が多い。<br />\nみんな健康的ですね・・・。</p>\n\n    <blockquote>\n        <p>そういえば国内のアクセス元だと、全<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%C5%D4%C6%BB\">都道</a>府県を制覇してましたｗ<br />\nやっぱ多いのはTokyoですねー。<br />\n海外はからっきしですが、なんか<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%A2%A5%E1%A5%EA\">アメリ</a>カから微妙にアクセスが増えてきてるなうです。</p>\n\n    </blockquote>\n\n</div>\n</div>\n<div class=\"section\">\n    <h3>サーバースペック</h3>\n    <p>さて、こんな感じの数値が出てますが、それを支えるバックエンドについて。</p>\n\n<ul>\n<li>さくら<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/VPS\">VPS</a> 2G</li>\n<li>Nginx ちょっと古い</li>\n</ul><p>いやほんとこんな雑な感じです。<br />\nmp3にしたCD音源のバックアップが主な用途の<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/VPS\">VPS</a>で適当に動かしてるので、ほんと適当です。<br />\nなんの最適化もしてないです。</p><p>ってもhtmlを1つ返して、js / <a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/css\">css</a> / font / 背景画像 返しておしまいなので軽いもんです。</p><p>CPU使用量もずーっと20%前後で、この程度なら全然問題ないです。<br />\nなのでアクセスは増えて欲しいものの、サーバー負荷のこととか考えたくないので増えてほしくない感じです。</p>\n\n</div>\n<div class=\"section\">\n    <h3>運営の課題</h3>\n    <p>もっぱらの悩みです。</p>\n\n<div class=\"section\">\n    <h4>バージョンアップ問題</h4>\n    <p>キャッシュの問題で、古いバージョンを使ってる人がいる問題。<br />\njs / <a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/css\">css</a>にバージョンのクエリは付加してますが、htmlが変わらんので意味がないｗ</p><p>サーバー側にちょいと細工すれば良いだけなんですが、静的ファイル返すだけーの今から一歩踏み込む気力が沸きません。<br />\nしばらくはF5連打で<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%A4%A5%AB\">イカ</a>よろしくお願い申し上げます。</p>\n\n</div>\n<div class=\"section\">\n    <h4>そもそも記録するの面倒くさい問題</h4>\n    <p>サービスの性質上どうしようもない！<br />\nNintendoさまが<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/API\">API</a>とか公開してくれればなー。<br />\nというか、公式でこういうのやってくれたらなー。</p><p>まぁ、自身の戦績すらマメに管理できんやつは少なくとも着実に勝ちを積み重ねることもできないということで、ここはひとつ・・。</p>\n\n</div>\n<div class=\"section\">\n    <h4>No Testなので怖い問題</h4>\n    <p>いや、自分のせいなんですけど。<br />\nここまでメンテすることになるなんて思ってなかったので、テストがありません。<br />\nそのくせ地味に更新するからたちが悪い！</p>\n\n</div>\n<div class=\"section\">\n    <h4><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%DE%A5%A4%A5%B0%A5%EC%A1%BC%A5%B7%A5%E7%A5%F3\">マイグレーション</a>辛い問題</h4>\n    <p>このサービスはデータをLocalStorageに溜め込むので、バージョン差異でデータ構造が変わったときに、ちゃんと<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%DE%A5%A4%A5%B0%A5%EC%A1%BC%A5%B7%A5%E7%A5%F3\">マイグレーション</a>しないと即死なんですよね。</p><p>そしてそんなウマいことやる仕組みないので、愚直にサービスのバージョンでもって<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%DE%A5%A4%A5%B0%A5%EC%A1%BC%A5%B7%A5%E7%A5%F3\">マイグレーション</a>したかどうかを管理してます。</p><p>このへんの設計は最初にきちんとやっておかないと辛いですねー。</p>\n\n    <blockquote>\n        <p>まぁだいたいが課題というか嬉しい悲鳴というやつです。</p>\n\n    </blockquote>\n\n</div>\n</div>\n<div class=\"section\">\n    <h3>個人でサービスを運営すること</h3>\n    <p>今までいくつかサービス作ってましたが、<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%A4%A5%AB\">イカ</a>の力はやはりすごいですね。<br />\nたまたまニーズに合致しただけって感じもありますけど。</p>\n\n<ul>\n<li><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Twitter\">Twitter</a>のフォロワーがやけに増えた</li>\n<li><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%A8%A5%B4%A5%B5%A1%BC%A5%C1\">エゴサーチ</a>するといろいろ楽しい</li>\n<li>週に2回くらいアップデートしてデプロイしてる</li>\n<li>ただ外出中にバグ報告とかされると気が気じゃない</li>\n</ul><p>思ったより使われてるので雑にメンテするのが最近は少しはばかられる感じです。<br />\n<br />\n</p>\n\n</div>\n<div class=\"section\">\n    <h3>そのほか</h3>\n    <p>コードは全部[<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/GitHub\">GitHub</a>](<a href=\"https://github.com/leader22/ika-rchive\">https://github.com/leader22/ika-rchive</a>)にあるのでお気軽にFork me!<br />\n機能追加などなどもお気軽に！</p><p>肝心のウデマエはS50を越えられずウロウロしてます。<br />\nもう野良のガチマッチはエリアの時しかやらん！って決めたものの、全然時間があわない今日このごろ。</p><p>チャージャーでS+な先輩、アド<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%D0%A5%A4%A5%B9\">バイス</a>ください・・・！(´ω` )</p>\n\n</div>"
}
