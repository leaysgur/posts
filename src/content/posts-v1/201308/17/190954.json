{
  "title": "画像をbase64エンコードして、DataURI化するコマンド",
  "html": "<p>コレ以上どうやってページを軽量化しよう・・って時に検討したいのが画像の<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/base64\">base64</a>化ですね。<br />\nいろいろツールもあるみたいですが、Macならターミナルでできちゃう。</p><p></p>\n\n<div class=\"section\">\n    <h3>コマンド</h3>\n    <pre class=\"code\" data-unlink>openssl base64 &lt; path-to-file.png | tr -d &#39;\\n&#39; | pbcopy</pre><p>これで<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%AF%A5%EA%A5%C3%A5%D7%A5%DC%A1%BC%A5%C9\">クリップボード</a>にコピーされてるので、使いたいところでペタリするだけ。</p>\n\n    <blockquote>\n        <p>コピーした時点ではただ<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/base64\">base64</a><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%A8%A5%F3%A5%B3%A1%BC%A5%C9\">エンコード</a>しただけなので、<br />\n実際にDataURIとして使う場合には、<br />\ndata:image/png;<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/base64\">base64</a>,{ここにコピーしたやつ}<br />\nのようにして使う。</p>\n\n    </blockquote>\n\n</div>\n<div class=\"section\">\n    <h3>使い所</h3>\n    <p>個人的には使い所の難しい技術やなーと思ってます。</p><p>メリットは、リクエストが発生しないところ。<br />\n3Gみたいな環境では、なんとかしてリクエスト数は減らしたいところなので、なかなかに有用。</p><p>一般的に言われるデメリットは、</p>\n\n<ul>\n<li>長ったらしいテキストを埋めることになるので、htmlの容量が増える可能性がある</li>\n<li>デコードするコストがかかる</li>\n<li>ファイル管理・更新が煩雑</li>\n</ul><p>アイコンみたいな画像はスプライトにすれば良いし・・となると、<br />\nスプライトに載せるにしては汎用性の低い内容で、そこまで容量が大きくない画像・・ということになりますね。</p><br />\n<p>というわけで、使い所を見極めつつ、表示速度を優先したいページでは前向きに使っていきたいなーと。</p>\n\n</div>"
}
