{
  "title": "Require.js使う時にhtmlにどう書くか",
  "html": "<p>地味に書き方が複数あるっぽかったので。<br />\n<br />\n</p>\n\n<div class=\"section\">\n    <h3>読み込み方のパターン</h3>\n    <p>以下、すべて同じです。</p><p>これと、</p>\n<pre class=\"code lang-html\" data-lang=\"html\" data-unlink><span class=\"synIdentifier\">&lt;</span><span class=\"synStatement\">script</span><span class=\"synIdentifier\"> </span><span class=\"synType\">src</span><span class=\"synIdentifier\">=</span><span class=\"synConstant\">&quot;/script/vendor/require.js&quot;</span><span class=\"synIdentifier\">&gt;&lt;/</span><span class=\"synStatement\">script</span><span class=\"synIdentifier\">&gt;</span>\n<span class=\"synIdentifier\">&lt;</span><span class=\"synStatement\">script</span><span class=\"synIdentifier\"> </span><span class=\"synType\">src</span><span class=\"synIdentifier\">=</span><span class=\"synConstant\">&quot;/script/app/require_config.js&quot;</span><span class=\"synIdentifier\">&gt;&lt;/</span><span class=\"synStatement\">script</span><span class=\"synIdentifier\">&gt;</span>\n<span class=\"synIdentifier\">&lt;</span><span class=\"synStatement\">script</span><span class=\"synIdentifier\"> </span><span class=\"synType\">src</span><span class=\"synIdentifier\">=</span><span class=\"synConstant\">&quot;/script/app/main.js&quot;</span><span class=\"synIdentifier\">&gt;&lt;/</span><span class=\"synStatement\">script</span><span class=\"synIdentifier\">&gt;</span>\n</pre><p>これと、</p>\n<pre class=\"code lang-html\" data-lang=\"html\" data-unlink><span class=\"synIdentifier\">&lt;</span><span class=\"synStatement\">script</span><span class=\"synIdentifier\"> </span><span class=\"synType\">src</span><span class=\"synIdentifier\">=</span><span class=\"synConstant\">&quot;/script/vendor/require.js&quot;</span><span class=\"synIdentifier\"> </span><span class=\"synType\">data</span><span class=\"synIdentifier\">-main=</span><span class=\"synConstant\">&quot;main&quot;</span><span class=\"synIdentifier\">&gt;&lt;/</span><span class=\"synStatement\">script</span><span class=\"synIdentifier\">&gt;</span>\n<span class=\"synIdentifier\">&lt;</span><span class=\"synStatement\">script</span><span class=\"synIdentifier\"> </span><span class=\"synType\">src</span><span class=\"synIdentifier\">=</span><span class=\"synConstant\">&quot;/script/app/requireConfig.js&quot;</span><span class=\"synIdentifier\">&gt;&lt;/</span><span class=\"synStatement\">script</span><span class=\"synIdentifier\">&gt;</span>\n</pre><p>これ。</p>\n<pre class=\"code lang-html\" data-lang=\"html\" data-unlink><span class=\"synIdentifier\">&lt;</span><span class=\"synStatement\">script</span><span class=\"synIdentifier\"> </span><span class=\"synType\">src</span><span class=\"synIdentifier\">=</span><span class=\"synConstant\">&quot;/script/app/requireConfig.js&quot;</span><span class=\"synIdentifier\">&gt;&lt;/</span><span class=\"synStatement\">script</span><span class=\"synIdentifier\">&gt;</span>\n<span class=\"synIdentifier\">&lt;</span><span class=\"synStatement\">script</span><span class=\"synIdentifier\"> </span><span class=\"synType\">src</span><span class=\"synIdentifier\">=</span><span class=\"synConstant\">&quot;/script/vendor/require.js&quot;</span><span class=\"synIdentifier\"> </span><span class=\"synType\">data</span><span class=\"synIdentifier\">-main=</span><span class=\"synConstant\">&quot;main&quot;</span><span class=\"synIdentifier\">&gt;&lt;/</span><span class=\"synStatement\">script</span><span class=\"synIdentifier\">&gt;</span>\n</pre><p><br />\n違いがあるとすればconfigファイルの記載が違う。<br />\n今回の例でいうと、</p>\n\n<div class=\"section\">\n    <h4>require_config.js</h4>\n    <pre class=\"code lang-javascript\" data-lang=\"javascript\" data-unlink><span class=\"synComment\">// require.js本体は先に読んでるので、configメソッドで設定する</span>\nrequire.config(<span class=\"synIdentifier\">{</span>\n  baseUrl: <span class=\"synConstant\">'/script/app'</span>,\n  paths: <span class=\"synIdentifier\">{</span>\n    templates:  <span class=\"synConstant\">'./tmpl/templates'</span>,\n    underscore: <span class=\"synConstant\">'../vendor/underscore'</span>,\n    jquery:     <span class=\"synConstant\">'../vendor/jquery'</span>,\n    backbone:   <span class=\"synConstant\">'../vendor/backbone'</span>\n  <span class=\"synIdentifier\">}</span>,\n  shim: <span class=\"synIdentifier\">{</span>\n    templates: <span class=\"synIdentifier\">{</span>\n      exports: <span class=\"synConstant\">'JST'</span>\n    <span class=\"synIdentifier\">}</span>,\n    jquery: <span class=\"synIdentifier\">{</span>\n      exports: <span class=\"synIdentifier\">[</span><span class=\"synConstant\">'$'</span>, <span class=\"synConstant\">'jQuery'</span><span class=\"synIdentifier\">]</span>\n    <span class=\"synIdentifier\">}</span>,\n    underscore: <span class=\"synIdentifier\">{</span>\n      exports: <span class=\"synConstant\">'_'</span>\n    <span class=\"synIdentifier\">}</span>,\n    backbone: <span class=\"synIdentifier\">{</span>\n      deps: <span class=\"synIdentifier\">[</span><span class=\"synConstant\">'underscore'</span>, <span class=\"synConstant\">'jquery'</span><span class=\"synIdentifier\">]</span>,\n      exports: <span class=\"synConstant\">'Backbone'</span>\n    <span class=\"synIdentifier\">}</span>\n  <span class=\"synIdentifier\">}</span>\n<span class=\"synIdentifier\">}</span>);\n</pre>\n</div>\n<div class=\"section\">\n    <h4>requireConfig.js</h4>\n    <pre class=\"code lang-javascript\" data-lang=\"javascript\" data-unlink><span class=\"synComment\">// 本体より先なので、require変数を定義する</span>\n<span class=\"synIdentifier\">var</span> require = <span class=\"synIdentifier\">{</span>\n  baseUrl: <span class=\"synConstant\">'/script/app'</span>,\n  paths: <span class=\"synIdentifier\">{</span>\n    templates:  <span class=\"synConstant\">'./tmpl/templates'</span>,\n    underscore: <span class=\"synConstant\">'../vendor/underscore'</span>,\n    jquery:     <span class=\"synConstant\">'../vendor/jquery'</span>,\n    backbone:   <span class=\"synConstant\">'../vendor/backbone'</span>\n  <span class=\"synIdentifier\">}</span>,\n  shim: <span class=\"synIdentifier\">{</span>\n    templates: <span class=\"synIdentifier\">{</span>\n      exports: <span class=\"synConstant\">'JST'</span>\n    <span class=\"synIdentifier\">}</span>,\n    jquery: <span class=\"synIdentifier\">{</span>\n      exports: <span class=\"synIdentifier\">[</span><span class=\"synConstant\">'$'</span>, <span class=\"synConstant\">'jQuery'</span><span class=\"synIdentifier\">]</span>\n    <span class=\"synIdentifier\">}</span>,\n    underscore: <span class=\"synIdentifier\">{</span>\n      exports: <span class=\"synConstant\">'_'</span>\n    <span class=\"synIdentifier\">}</span>,\n    backbone: <span class=\"synIdentifier\">{</span>\n      deps: <span class=\"synIdentifier\">[</span><span class=\"synConstant\">'underscore'</span>, <span class=\"synConstant\">'jquery'</span><span class=\"synIdentifier\">]</span>,\n      exports: <span class=\"synConstant\">'Backbone'</span>\n    <span class=\"synIdentifier\">}</span>\n  <span class=\"synIdentifier\">}</span>\n<span class=\"synIdentifier\">}</span>;\n</pre>\n</div>\n</div>\n<div class=\"section\">\n    <h3>最終的には</h3>\n    <p>まあ、どれもこれも最適化するので。</p><p>1ファイルにするなら、</p>\n<pre class=\"code lang-html\" data-lang=\"html\" data-unlink><span class=\"synIdentifier\">&lt;</span><span class=\"synStatement\">script</span><span class=\"synIdentifier\"> </span><span class=\"synType\">src</span><span class=\"synIdentifier\">=</span><span class=\"synConstant\">&quot;/script/build/all.min.js&quot;</span><span class=\"synIdentifier\">&gt;&lt;/</span><span class=\"synStatement\">script</span><span class=\"synIdentifier\">&gt;</span>\n</pre><p>ってなるし、開発中でも、</p>\n<pre class=\"code lang-html\" data-lang=\"html\" data-unlink><span class=\"synIdentifier\">&lt;</span><span class=\"synStatement\">script</span><span class=\"synIdentifier\"> </span><span class=\"synType\">src</span><span class=\"synIdentifier\">=</span><span class=\"synConstant\">&quot;/script/vendor/require.js&quot;</span><span class=\"synIdentifier\"> </span><span class=\"synType\">data</span><span class=\"synIdentifier\">-main=</span><span class=\"synConstant\">&quot;main&quot;</span><span class=\"synIdentifier\">&gt;&lt;/</span><span class=\"synStatement\">script</span><span class=\"synIdentifier\">&gt;</span>\n</pre><p>みたいにもできる。</p><p>ようは、読込順がちゃんとしてればファイルは1つでも分かれてても良い。</p>\n\n</div>"
}
