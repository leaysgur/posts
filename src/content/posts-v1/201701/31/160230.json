{
  "title": "react-intlで属性値を多言語化する",
  "html": "<p>単純なノードとしてなら、`<FormattedMessage />`とかそのまま使えばいい。<br />\nけど、`title`とか`alt`とか`placeholder`とか属性値およびそれ以外のフックとかでどうすんのってことを調べたメモ。</p><p>もちろん、根本に`&lt;IntlProvider /&gt;`がある前提は変わらず。<br />\n<br />\n</p>\n\n<div class=\"section\">\n    <h3>方法1: <FormattedMessage /></h3>\n    <pre class=\"code lang-javascript\" data-lang=\"javascript\" data-unlink><span class=\"synStatement\">const</span> React = require(<span class=\"synConstant\">'react'</span>);\n<span class=\"synStatement\">const</span> <span class=\"synIdentifier\">{</span> FormattedMessage <span class=\"synIdentifier\">}</span> = require(<span class=\"synConstant\">'react-intl'</span>);\n\n<span class=\"synStatement\">class</span> Foo <span class=\"synStatement\">extends</span> React.Component <span class=\"synIdentifier\">{</span>\n  render() <span class=\"synIdentifier\">{</span>\n    <span class=\"synStatement\">return</span> (\n      &lt;img alt=<span class=\"synIdentifier\">{</span>&lt;FormattedMessage id=<span class=\"synConstant\">&quot;foo&quot;</span> /&gt;<span class=\"synIdentifier\">}</span>\n    )\n  <span class=\"synIdentifier\">}</span>\n<span class=\"synIdentifier\">}</span>\n</pre><p>キモいけどできる、キモいけど。</p>\n\n</div>\n<div class=\"section\">\n    <h3>方法2: injectIntl()</h3>\n    <pre class=\"code lang-javascript\" data-lang=\"javascript\" data-unlink><span class=\"synStatement\">const</span> React = require(<span class=\"synConstant\">'react'</span>);\n<span class=\"synStatement\">const</span> <span class=\"synIdentifier\">{</span> injectIntl <span class=\"synIdentifier\">}</span> = require(<span class=\"synConstant\">'react-intl'</span>);\n\ninjectIntl(<span class=\"synStatement\">class</span> Foo <span class=\"synStatement\">extends</span> React.Component <span class=\"synIdentifier\">{</span>\n  render() <span class=\"synIdentifier\">{</span>\n    <span class=\"synStatement\">const</span> <span class=\"synIdentifier\">{</span> formatMessage <span class=\"synIdentifier\">}</span> = <span class=\"synIdentifier\">this</span>.props.intl\n    <span class=\"synStatement\">return</span> (\n      &lt;img alt=<span class=\"synIdentifier\">{</span>formatMessage(<span class=\"synIdentifier\">{</span> id: <span class=\"synConstant\">'foo'</span> <span class=\"synIdentifier\">}</span>)<span class=\"synIdentifier\">}</span>\n    )\n  <span class=\"synIdentifier\">}</span>\n<span class=\"synIdentifier\">}</span>)\n</pre><p>おそらくコレが公式の推奨パターン。<br />\n文字列連結とかしたいならコレしかなさそう</p>\n\n</div>\n<div class=\"section\">\n    <h3>方法3: context</h3>\n    <pre class=\"code lang-javascript\" data-lang=\"javascript\" data-unlink><span class=\"synStatement\">const</span> React = require(<span class=\"synConstant\">'react'</span>);\n<span class=\"synStatement\">const</span> <span class=\"synIdentifier\">{</span> intlShape <span class=\"synIdentifier\">}</span> = require(<span class=\"synConstant\">'react-intl'</span>);\n\n<span class=\"synStatement\">class</span> Foo <span class=\"synStatement\">extends</span> React.Component <span class=\"synIdentifier\">{</span>\n  <span class=\"synStatement\">static</span> get contextTypes() <span class=\"synIdentifier\">{</span>\n    <span class=\"synStatement\">return</span> <span class=\"synIdentifier\">{</span> intl: intlShape <span class=\"synIdentifier\">}</span>;\n  <span class=\"synIdentifier\">}</span>\n\n  render() <span class=\"synIdentifier\">{</span>\n    <span class=\"synStatement\">const</span> <span class=\"synIdentifier\">{</span> formatMessage <span class=\"synIdentifier\">}</span> = <span class=\"synIdentifier\">this</span>.context.intl\n    <span class=\"synStatement\">return</span> (\n      &lt;img alt=<span class=\"synIdentifier\">{</span>formatMessage(<span class=\"synIdentifier\">{</span> id: <span class=\"synConstant\">'foo'</span> <span class=\"synIdentifier\">}</span>)<span class=\"synIdentifier\">}</span>\n    )\n  <span class=\"synIdentifier\">}</span>\n<span class=\"synIdentifier\">}</span>\n</pre><p>大差なし。</p>\n\n</div>\n<div class=\"section\">\n    <h3>ほか</h3>\n    <p>方法2でやっておけばよさそう。<br />\n方法1で事足りるならそれでもいいけど、やっぱりキモいと思うのは俺だけ？</p><p>See: <a href=\"https://github.com/yahoo/react-intl/wiki#formatting-data\">https://github.com/yahoo/react-intl/wiki#formatting-data</a></p>\n\n</div>"
}
