{
  "title": "PWA Night vol.15 ～テクニック/API～ に行ってきたメモ #pwanight",
  "html": "\n    <blockquote>\n        <p><a href=\"https://pwanight.connpass.com/event/172303/\">PWA Night vol.15 &#xFF5E;&#x30C6;&#x30AF;&#x30CB;&#x30C3;&#x30AF;/API&#xFF5E; - connpass</a></p>\n\n    </blockquote>\n<p>オンライン登壇の実績を解除した・・・！<br />\n<br />\n</p>\n\n<div class=\"section\">\n    <h3>Next.js x AMP by @yosuke_furukawa</h3>\n    \n    <blockquote>\n        <p><a href=\"https://speakerdeck.com/yosuke_furukawa/nextjs-x-amp\">nextjs_x_AMP.pdf - Speaker Deck</a></p>\n\n    </blockquote>\n\n<div class=\"section\">\n    <h4>はじめに</h4>\n    \n<ul>\n<li>Next.jsとは\n<ul>\n<li>Reactの<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%D5%A5%EC%A1%BC%A5%E0%A5%EF%A1%BC%A5%AF\">フレームワーク</a></li>\n<li>zeitという会社がつくってる</li>\n</ul></li>\n<li>AMPとは\n<ul>\n<li>Accelerated Mobile Pages</li>\n<li>用意されたタグを使って、ルールに準拠したページを作ると、キャッシュしてもらえる</li>\n<li>`amp-validator`でチェックされる</li>\n</ul></li>\n<li>AMPのタグ\n<ul>\n<li>結構な種類のタグがあるので、割となんでもできる</li>\n<li>ただ<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Google\">Google</a>に<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%DB%A5%B9%A5%C6%A5%A3%A5%F3%A5%B0\">ホスティング</a>されたものを使うことになる\n<ul>\n<li>障害が出たら、もれなくページに影響が出る・・・</li>\n</ul></li>\n</ul></li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>Next.js x AMP</h4>\n    \n<ul>\n<li>Next.jsで<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/SSR\">SSR</a>して、AMPを使う事例をリリースした\n<ul>\n<li>AMPは使うけど、AMP Cacheは使わない</li>\n<li>ちょっと特殊な使い方かも</li>\n</ul></li>\n<li>Next.jsでは、`withAmp()`で<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%B3%A5%F3%A5%DD%A1%BC%A5%CD%A5%F3%A5%C8\">コンポーネント</a>を囲むだけでAMP対応できる</li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>Next.jsのクセ</h4>\n    \n<ul>\n<li>prodモードとdevモードで挙動が異なる</li>\n<li>静的なページの場合\n<ul>\n<li>prod: 事前にHTMLに変換されて<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/SSR\">SSR</a>の処理をスキップ</li>\n<li>dev: 毎回ビルドされて、<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/SSR\">SSR</a>される</li>\n</ul></li>\n<li>静的なページかどうかは、`getInitialProps()`が生えてるかどうか\n<ul>\n<li>あるなら動的、ないなら静的</li>\n</ul></li>\n<li>すべてのページを静的にするのは、現実的ではない\n<ul>\n<li>incrementalにビルドできないので</li>\n<li><a href=\"https://nextjs.org/blog/next-9-3#next-gen-static-site-generation-ssg-support\">https://nextjs.org/blog/next-9-3#next-gen-static-site-generation-ssg-support</a></li>\n<li>新しい機能が検討されてるところ</li>\n</ul></li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>AMP Validator</h4>\n    \n<ul>\n<li>Next.jsで開発している間、内部的に常にチェックしてくれる</li>\n<li>ただ常に怒られる</li>\n<li>ので、条件指定してignoreできるようにPRを出した</li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>AMP Optimizer</h4>\n    \n<ul>\n<li>AMPの<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%EC%A5%F3%A5%C0%A5%EA%A5%F3%A5%B0\">レンダリング</a>を高速化してくれる便利なやつ\n<ul>\n<li>フォントのプリロードとか</li>\n</ul></li>\n<li>ただしprodモードでは、<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/SSR\">SSR</a>中に必ず実行される</li>\n<li>しかし重い</li>\n<li>そもそも<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/SSR\">SSR</a>が重いのに、さらに重い</li>\n<li>これもカスタマイズできるようにPRを出した</li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>その他</h4>\n    \n<ul>\n<li>不満\n<ul>\n<li>ベストプ<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%E9%A5%AF\">ラク</a>ティスのスコアが低い</li>\n<li>型がない</li>\n</ul></li>\n<li>不満はあるし制約も多いけど、エッジの技術はそういうもの</li>\n<li>世界にもまだない問題が多いので、チャレンジングではある</li>\n</ul><p>会長「俺が世界を1mmでも良くする！」</p>\n\n</div>\n</div>\n<div class=\"section\">\n    <h3>ブラウザの新しい<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/API\">API</a>で遊んでみる by @kan_dai</h3>\n    \n    <blockquote>\n        <p>資料は見つけたら</p>\n\n    </blockquote>\n\n<div class=\"section\">\n    <h4>Barcode Detection <a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/API\">API</a></h4>\n    \n<ul>\n<li><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/QR%A5%B3%A1%BC%A5%C9\">QRコード</a>リーダーをつくった\n<ul>\n<li>以前に作ったやつを再実装した</li>\n<li><a href=\"https://github.com/KanDai/simple-qr-reader\">https://github.com/KanDai/simple-qr-reader</a></li>\n<li><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Chrome\">Chrome</a>でフラグを立てる必要あり</li>\n</ul></li>\n<li>処理の流れ\n<ul>\n<li>まず`getUserMedia()`で端末のカメラの映像を取得</li>\n<li>`new BarcodeDetector()`して、`detect(videoElement)`すると読み取れる</li>\n<li>`rawValue`で値までそのまま取れる</li>\n</ul></li>\n<li><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/canvas\">canvas</a>に渡して<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%D4%A5%AF%A5%BB%A5%EB\">ピクセル</a>解析する必要がなくなった</li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>Face Detection <a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/API\">API</a></h4>\n    \n<ul>\n<li>ブラウザでかんたんにFaceト<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%E9%A5%C3%A5%AD%A5%F3%A5%B0\">ラッキング</a>できる<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/API\">API</a></li>\n<li>全体的な顔の位置だけでなく、ランドマークとして目や鼻などの位置までわかる</li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>Text Detection <a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/API\">API</a></h4>\n    \n<ul>\n<li>同様に、文字を認識できる</li>\n<li>日本語の読み取りはいまいちだが、英数字はなかなかの精度</li>\n</ul>\n</div>\n<div class=\"section\">\n    <h4>Media Session <a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/API\">API</a></h4>\n    \n<ul>\n<li>音楽プレーヤーの再生中の情報や、曲送りなどが実装できる</li>\n<li>PWAで作れば、バックグラウンドでも使える</li>\n<li>`navigator.mediaSession.setActionHandler(type, callback)`</li>\n</ul><p>いろんな<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/API\">API</a>使って、いろんなものを作りましょう！</p>\n\n</div>\n</div>\n<div class=\"section\">\n    <h3>APIs around the WebRTC by @leader22</h3>\n    \n    <blockquote>\n        <p><a href=\"https://leader22.github.io/slides/pwa_night-15/#1\">APIs around the WebRTC</a></p>\n\n    </blockquote>\n<p>自分の発表なのでスライドだけ。</p>\n\n</div>\n<div class=\"section\">\n    <h3>LT: 最近あったbugの話 by @ko_kelvin</h3>\n    \n    <blockquote>\n        <p>資料は見つけたら</p>\n\n    </blockquote>\n\n<ul>\n<li>最近あったバグの共有をします</li>\n<li>WorkboxとかServiceWorkerとか</li>\n<li>Workboxとは\n<ul>\n<li><a href=\"https://developers.google.com/web/tools/workbox\">https://developers.google.com/web/tools/workbox</a></li>\n<li>ServiceWorkerを使うときのベストプ<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%E9%A5%AF\">ラク</a>ティスが詰まったツール</li>\n<li>webpackの設定を書くだけでいい</li>\n<li>最近は機能追加がすすんで、バンドルサイズが増えた</li>\n</ul></li>\n<li>なのでそれを減らしたい\n<ul>\n<li>React LazyでDynamic importしたりして</li>\n</ul></li>\n<li>しかし謎のバグが</li>\n<li>新しいタブで開いたほうのSWが、古いタブの動きに影響してた</li>\n</ul><p>みなさんも`skipWaiting`と`clientsClaim`の指定や、Dynamic importするときはお気をつけて！</p>\n\n</div>"
}
