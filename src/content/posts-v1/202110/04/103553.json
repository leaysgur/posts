{
  "title": "CloudflareのWeb3の記事を読んで、ざっくり調べたメモ",
  "html": "<p>我らがCloudflare社が、先日のブログで\"Web3\"なるものに言及してた。しかも3記事も続けざまに。</p><p>不勉強な身としては、ざっと読んだだけではふわっとしか理解できなかったので、もう少しちゃんと理解したいなーと思った。<br />\nというわけで、概要を訳しつつあれこれ調べてみたというメモです。</p><p>これは単に自分の視野が狭かったことに気付いたんですが、そもそも\"Web3\"という単語やそれを表すトレンドみたいなものは、2018年くらいの<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%D6%A5%ED%A5%C3%A5%AF%A5%C1%A5%A7%A1%BC%A5%F3\">ブロックチェーン</a>な頃から既にあったんですね。</p><p>そういうわけなので、知ってる人にとっては何をいまさら？って話かもしれんし、それをこのタイミングでCloudflareが言及したことに、特別な意味を感じるのかも？とか。<br />\n<br />\n</p>\n\n<div class=\"section\">\n    <h3>Web 3.0とは</h3>\n    \n    <blockquote>\n        <p><a href=\"https://blog.cloudflare.com/what-is-web3/\">Web3 &mdash; A vision for a decentralized web</a></p>\n\n    </blockquote>\n<p>まずこの最初の記事をざっくり。</p><p>Web3とは、Web 3.0のことで、Web 1.0や2.0のように、Webの進化の歴史（トレンド）を総称する呼び名とのこと。</p><p>Web 1.0や2.0についても厳格にこういう定義だ！って言えないと思うので、3.0についても同様にふわっとした定義しかできないことは最初に知っておくほうがよさそう。</p>\n\n<div class=\"section\">\n    <h4>Web 1.0</h4>\n    <p>世界中に分散した静的なコンテンツをホストしたシステムを、ネットワーク（もとい<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%CF%A5%A4%A5%D1%A1%BC%A5%EA%A5%F3%A5%AF\">ハイパーリンク</a>）を介してアクセスしていたあの頃。<br />\n1990年代から2000年代の前半あたりの古き良きクラシックなWebのことを、1.0と呼んでた。</p><p>この頃のWebは、まだ世界中に分散していた。</p>\n\n</div>\n<div class=\"section\">\n    <h4><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Web%202.0\">Web 2.0</a></h4>\n    <p>Webの成長はめざましく、膨大なWebサイトが公開・利用されるようになり、我々の暮らしを支えるインフラとなった。</p><p>そんな今も続いてる、自分たちが普段使ってるWebが2.0と呼ばれる世代。<br />\nブラウザが一般化して、<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%B8%A1%BA%F7%A5%A8%A5%F3%A5%B8%A5%F3\">検索エンジン</a>が生まれ、<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/SNS\">SNS</a>やらユーザーど<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A4%A6%A4%B7%A4%CE\">うしの</a>インタ<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%E9%A5%AF\">ラク</a>ションが主体になり、技術的にも大きな進歩があった。</p><p>ただいい話ばかりではなく、サービス間の競争は激しくなり、コンテンツやユーザーデータは中央集権的に特定の企業やサービス（だいたい<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/GAFA\">GAFA</a>）に集まるようになってしまった。</p><p>プライバシーの問題も取り沙汰されるようになって、1.0の頃のように分散したWebではなくなってしまっていた。</p>\n\n</div>\n<div class=\"section\">\n    <h4>Web 3.0</h4>\n    <p>中央集権的になってしまったWebを、本来の姿だったように、\"Decentralization\"したい。</p><p>そこで見いだされたのが、<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/P2P\">P2P</a>ネットワークで構築された<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%D3%A5%C3%A5%C8%A5%B3%A5%A4%A5%F3\">ビットコイン</a>（もとい<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%D6%A5%ED%A5%C3%A5%AF%A5%C1%A5%A7%A1%BC%A5%F3\">ブロックチェーン</a>）や<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%A4%A1%BC%A5%B5%A5%EA%A5%A2%A5%E0\">イーサリアム</a>のような分散システムである、と。</p><p><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%A4%A1%BC%A5%B5%A5%EA%A5%A2%A5%E0\">イーサリアム</a>では、各ノードでコードを展開することもできて、既にたくさんの分散型アプリケーション（Dapps）のエコシステムが存在してる。<br />\nHTTPによってロケーション志向でアクセスするしかない現状よりも、IPFSみたいに分散システム上で管理されたリソースのほうが可用性も高くなるし、特定の企業に集中するわけではないのでプライバシーも保証される。</p><p>ユーザーは自分だけの<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%C8%EB%CC%A9%B8%B0\">秘密鍵</a>を持ち、それでお互いを識別するようになる。自分だけのデータをそこで所有し、選択したものだけをアプリやサービスに共有するようになる。（たぶんNFTとかそういうアレで）</p><p>というのがWeb 3.0の世界であり、Cloudflareもそのためにいろいろ検証したりサービスを公開したりしていきますよっていうのが、冒頭の1つ目の記事だった。</p>\n\n    <blockquote>\n        <p>The early Web was static. Then <a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Web%202.0\">Web 2.0</a> came to provide interactiveness and service we use daily at the cost of centralisation. Web3 is a trend that tries to challenge this. With distributed networks built on open protocols, users of the web are empowered to participate.</p>\n\n    </blockquote>\n<p>グッときた結びの言葉。</p>\n\n</div>\n</div>\n<div class=\"section\">\n    <h3>Web 3.0なアプリケーション</h3>\n    \n    <blockquote>\n        <p><a href=\"https://blog.cloudflare.com/get-started-web3/\">Get started Building Web3 Apps with Cloudflare</a></p>\n\n    </blockquote>\n<p>つぎに、2つ目の記事。</p><p>こっちのほうがよりエンジニア目線で書かれていて、自分と同じような境遇の人が読むべきはこっちなのかなと思った。</p>\n\n<div class=\"section\">\n    <h4>はじめに</h4>\n    <p>Web3って単語だけを聞くと、ただの<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%D0%A5%BA%A5%EF%A1%BC%A5%C9\">バズワード</a>に感じるかもしれないけど、ちゃんとした進化系なのである。</p><p>特定の企業やサービスにデータが集中するのではなく、<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%D6%A5%ED%A5%C3%A5%AF%A5%C1%A5%A7%A1%BC%A5%F3\">ブロックチェーン</a>の上で各自が固有の<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%A4%A5%F3%A5%BB%A5%F3%A5%C6%A5%A3%A5%D6\">インセンティブ</a>でもって運営されるようになる、というのが主流の時代が来るはず。</p>\n\n</div>\n<div class=\"section\">\n    <h4>アプリケーションの作り方</h4>\n    <p>まず<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Web%202.0\">Web 2.0</a>でのアプリケーションは、主にデータベースを中心としたものだった。<br />\nデータベースがあって、それを扱うインターフェースが用意されてて、そのデータをUIから引き出して利用するパターン。</p><p>全ての情報が、特定のサービスのデータベースに集中的に存在していて、利用者のデータであっても所有権はサービス側にあるというのがポイント。</p><p>Web3ではそれが正反対になる。</p><p>データベースに保存され運営されていたデータは、代わりに<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%D6%A5%ED%A5%C3%A5%AF%A5%C1%A5%A7%A1%BC%A5%F3\">ブロックチェーン</a>（ここでは<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%A4%A1%BC%A5%B5%A5%EA%A5%A2%A5%E0\">イーサリアム</a>）に乗るようになる。<br />\nUIのコードも<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%D6%A5%ED%A5%C3%A5%AF%A5%C1%A5%A7%A1%BC%A5%F3\">ブロックチェーン</a>上でスマート<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%B3%A5%F3%A5%C8%A5%E9\">コントラ</a>クトとして開発され、それぞれのユーザーが自分のニーズにあったものを選択できる。</p><p>データの所有権については、NFTに期待が寄せられてる。<br />\nまだまだ未整備な部分も多いし、詐欺もあるけれども、今までのデータやコンテンツの在り方を変える可能性がある。</p><p>たくさんのアプリケーションが、分散アプリケーション（Dapps）として提供されるようになっていくはず。</p>\n\n</div>\n<div class=\"section\">\n    <h4><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/OSS\">OSS</a>のWeb3アプリ</h4>\n    <p>というところで、自分のNFTプロジェクトをはじめられるアプリケーションの一式を<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/OSS\">OSS</a>で公開した。</p>\n\n    <blockquote>\n        <p><a href=\"https://github.com/cloudflare/cfweb3\">GitHub - cloudflare/cfweb3</a></p>\n\n    </blockquote>\n<p><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%A4%A1%BC%A5%B5%A5%EA%A5%A2%A5%E0\">イーサリアム</a>のRinkebyテストネットに接続できるウォレット（Metamask）があれば、実際にNFTをやり取りできるようになってる。</p><p>NFTを公開するためには、<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/JSON\">JSON</a>で<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%E1%A5%BF%A5%C7%A1%BC%A5%BF\">メタデータ</a>を提供する<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/API\">API</a>が必要とされていて、そのためにCloudflare Workersを使っている。</p><p>そのNFTをMintするためのUIとして、アプリケーションの<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%DB%A5%B9%A5%C6%A5%A3%A5%F3%A5%B0\">ホスティング</a>にCloudflare Pagesを使ってる。</p><p>公開されたコードは大きく3つあって、</p>\n\n<ul>\n<li>Worker: IPFSに保存されたNFTの<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%E1%A5%BF%A5%C7%A1%BC%A5%BF\">メタデータ</a>を返すエンドポイント</li>\n<li>Frontend: ユーザーが利用するアプリのUI\n<ul>\n<li>Svelteで書かれた簡単なアプリ</li>\n<li><a href=\"https://github.com/ethers-io/ethers.js\">https://github.com/ethers-io/ethers.js</a> で<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%A4%A1%BC%A5%B5%A5%EA%A5%A2%A5%E0\">イーサリアム</a>を操作</li>\n</ul></li>\n<li>Contract: スマート<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%B3%A5%F3%A5%C8%A5%E9\">コントラ</a>クトの実装\n<ul>\n<li><a href=\"https://github.com/nomiclabs/hardhat\">https://github.com/nomiclabs/hardhat</a> が土台</li>\n<li>言語としてはSolidity</li>\n</ul></li>\n</ul><p>という感じだった。</p>\n\n</div>\n</div>\n<div class=\"section\">\n    <h3>Distributed Web <a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Gateway\">Gateway</a></h3>\n    \n    <blockquote>\n        <p><a href=\"https://blog.cloudflare.com/announcing-web3-gateways/\">Announcing The Cloudflare Distributed Web Gateways Private Beta: Unlocking the Web3 Metaverse and Decentralized Finance for Everyone</a></p>\n\n    </blockquote>\n<p>最後の記事。</p><p><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%A4%A1%BC%A5%B5%A5%EA%A5%A2%A5%E0\">イーサリアム</a>とIPFSへ、HTTPでアクセスできるようになる<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%B2%A1%BC%A5%C8%A5%A6%A5%A7%A5%A4\">ゲートウェイ</a>を、プライベートベータのサービスとしてはじめたよという話。</p><p>現状では、IPFSや<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%A4%A1%BC%A5%B5%A5%EA%A5%A2%A5%E0\">イーサリアム</a>に接続するためには専用のツールなどが必要なことが多くて、やや敷居が高い。<br />\nこの<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%B2%A1%BC%A5%C8%A5%A6%A5%A7%A5%A4\">ゲートウェイ</a>によって、その敷居が下がり、Web3がもっと身近になればいいなとのこと。</p>\n\n</div>\n<div class=\"section\">\n    <h3>おわりに</h3>\n    <p>ふーむ、こういうのがWeb 3.0なのか！って感じ。</p><p>もちろん2.0の資産が全て消えるわけではないと思うし、ほんとに現実的なのか？無理では？って疑問もある。ただまぁ今後の可能性のひとつとしては、すごく興味がわいた。</p><p>ただ技術としての<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%D6%A5%ED%A5%C3%A5%AF%A5%C1%A5%A7%A1%BC%A5%F3\">ブロックチェーン</a>はさておき、その上モノがいまいちしっくりきてないんよな・・近寄り難い雰囲気というか。</p>\n\n</div>"
}
