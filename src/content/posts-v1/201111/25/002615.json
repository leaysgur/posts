{
  "title": "Html5のWebStorageについてのメモ",
  "html": "<p>その道の方、ご存知の方にはまったく役にたちません。</p><p>全然大したことは書いてません！</p><p>あくまで自分へのメモですです。</p>\n\n<div class=\"seemore\">\n    \n<div class=\"section\">\n    <h3>Web Storageとは</h3>\n    <p><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Cookie\">Cookie</a>のすごい版。<br />\nブラウザ閉じても情報を保持できる仕組み。</p><p><b>localStorage</b>と<b>sessionStorage</b>の2種類があって、後者はセッションが生きてる間だけ有効。</p><p><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Cookie\">Cookie</a>との違いは、リクエストとして送信するかしないか。<br />\nローカルで完結するので、<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Cookie\">Cookie</a>より安全な感じ。</p>\n\n</div>\n<div class=\"section\">\n    <h3>ソースでいうと</h3>\n    <p>「キー：バリュー」でデータ保存。</p>\n\n    <pre class=\"code lang-javascript\" data-lang=\"javascript\" data-unlink>localStorage.setItem(&#34;neko&#34;, &#34; nyan&#34;);\nlocalStorage.setItem(&#34;inu&#34;, &#34;wan&#34;);\nlocalStorage.hiyoko = &#34;piyopiyo&#34;;</pre>\n<p>取り出すときは、</p>\n\n    <pre class=\"code lang-javascript\" data-lang=\"javascript\" data-unlink>localStorage.getItem(&#34;neko&#34;);  // &#34;nyan&#34;\nlocalStorage.getItem(&#34;inu&#34;);  // &#34;wan&#34;\nlocalStorage.hiyoko // &#34;piyopiyo&#34;</pre>\n<p>まぁ普通やね。</p><p>今のところ、文字列しか保存できないようです。<br />\n正確には、<b>オブジェクトも保存できるけど、文字列としてしか取り出せない</b>そうです。<br />\nJSON.stringify、JSON.parseってのを使えば、配列→文字列として保存、文字列→配列として取り出し、とかできるそうな。</p><p>データ消すとき</p>\n\n    <pre class=\"code lang-javascript\" data-lang=\"javascript\" data-unlink>removeItem(”neko”);　//&#34;neko&#34;にはいったデータを削除\nlocalStorage.clear();　//全部消去</pre>\n<p>意図的にデータを削除しない限り、一生データが残り続けるそうです。(sessionStorageは違うけど)<br />\nデータの保存される場所はブラウザでまちまちなようですが、Cookieを削除すると消えることがあるらしいです。</p><p>データを使いまわせるスコープは、オリジン：プロトコル、ドメイン、ポートだそうな。<br />\nということで、共有サーバーだったりするとデータがごちゃごちゃになる模様。<br />\nきっちり整理してデータ保存すれば大丈夫なような？<br />\nclear()はアウトやねー。</p>\n\n</div>\n<div class=\"section\">\n    <h3>使い道として</h3>\n    \n    <blockquote>\n        <p><a href=\"http://www.atmarkit.co.jp/fsmart/articles/iphoneweb04/01.html\" target=\"_blank\">HTML5のlocalStorageでiPhone用Webアプリ高速化</a></p>\n\n    </blockquote>\n<p>みたいな使い方が一番良いんかな？</p><p>ちなみに、<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/GoogleChrome\">GoogleChrome</a>のExtensionのオプション設定とかは、これで保存されてるみたいです。</p>\n\n    <blockquote>\n        <p><a href=\"https://chrome.google.com/extensions/detail/nacicmaapcgdgjgoacppghmjhbombbnf\" target=\"_blank\">Do It Later - Alligator ! - Chrome Web Store</a></p>\n\n    </blockquote>\n<p>↑仕事でよく使うシンプルなToDoリストを管理できるやつなんですけど、これは正にこの仕組でした。<br />\nソース覗いてみるとわかりやすかったのでおすすめですです。</p><p>以上、メモでした。</p>\n\n</div>\n</div>"
}
