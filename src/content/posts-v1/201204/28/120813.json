{
  "title": "さくらVPSにSubsonic入れてみてハマったこと",
  "html": "<p>というわけで、あまりにあまったさくらVPSの容量を使うために、<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Subsonic\">Subsonic</a>入れてみました。</p>\n\n    <blockquote>\n        <p>参考：<a href=\"http://www.subsonic.org/pages/index.jsp\" target=\"_blank\" title=\"Subsonic » Free Music Streamer\">Subsonic » Free Music Streamer</a></p>\n\n    </blockquote>\n\n<div class=\"seemore\">\n    \n<div class=\"section\">\n    <h3>インストール</h3>\n    <p>こちらを参考に。</p>\n\n    <blockquote>\n        <p>参考：<a href=\"http://blog.glidenote.com/blog/2012/04/03/subsonic-nginx/\" target=\"_blank\" title=\"さくらVPS 2G+Subsonic+Nginxで自分用ストリーミングサーバを構築 - Glide Note - グライドノート\">さくらVPS 2G+Subsonic+Nginxで自分用ストリーミングサーバを構築 - Glide Note - グライドノート</a></p>\n\n    </blockquote>\n<p>ウェブサーバーもnginxだけ使ってる身としては、とても簡単にできました。</p>\n\n</div>\n<div class=\"section\">\n    <h3>ハマったとこ</h3>\n    <p>上記記事通りに実際にやってみてアレ？ってなったとこをメモ。</p>\n\n<div class=\"section\">\n    <h4>各種モジュールのインストール</h4>\n    <p>RPMForgeの<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%EC%A5%DD%A5%B8%A5%C8%A5%EA\">レポジトリ</a>とか入れてなかったので、ffmepgやらlameやらがすんなり入りませんでした。<br />\nとは言えmp3だけを再生するのが目的な場合は、これらは不要だそうです。<br />\n意地になって全部入れたけど・・ｗ</p>\n\n</div>\n<div class=\"section\">\n    <h4>nginxの設定ファイル</h4>\n    <p>これは独自でnginxの設定をしていたため、臨機応変に。</p>\n\n    <pre class=\"code lang-linux\" data-lang=\"linux\" data-unlink>server {\n    listen       80;\n    server_name  [自分のサーバーのドメイン];\n\n    location / {\n        proxy_pass   http://127.0.0.1:4040;\n        break;\n    }\n}</pre>\n<p>こういうサーバー設定は、すべてインストールした先のnginx/conf.d/virtual.confに書いてるので、そっちに。</p>\n\n</div>\n<div class=\"section\">\n    <h4>ログイン</h4>\n    <p>subsonicを起動して、設定したURLにアクセスすると、いきなりログイン画面です。<br />\nどこでIDとPW設定すんねん！と思ったんですが、下にちっさいリンクがあってそこから設定できました。</p>\n\n</div>\n<div class=\"section\">\n    <h4>←にサイドバーが出ない！</h4>\n    <p>私の環境だけかもしれませんが、<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Chrome\">Chrome</a>だと<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/JavaScript\">JavaScript</a>の挙動がなんだかおかしくて、<br />\n一向に変更内容は反映されないわ表示もされないわ困ったもんでした。<br />\n<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/FireFox\">FireFox</a>だと正常に動いてるので、<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Chrome\">Chrome</a>ユーザーでアレ？ってなってる方は、違うブラウザでもお試しください！</p>\n\n    <blockquote>\n        <p>キャッシュを消去したりすると出たりしましたが、またすぐに出なくなったり・・。<br />\nコンソールにエラー吐いてるわけでもなく、意味がわかりません！<br />\nenchant.jsで表示がおかしくなったのと同じ感じで意味不明です。</p>\n\n    </blockquote>\n\n</div>\n<div class=\"section\">\n    <h4>音楽フォルダが反映されない！</h4>\n    <p>音楽フォルダを設定すると、即サイドバーが出て・・って調べて知ってたのですが、一向に何も起こらない。<br />\n上記に関連して<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Chrome\">Chrome</a>のせいだったかどうかももはやわからんのですが、解決策もあるようで。</p><p>設定→検索というところで、[ただちに検索インデックスを更新する]というのがあります。<br />\nそれをクリックして暫く待つとOKでした。</p>\n\n</div>\n</div>\n<div class=\"section\">\n    <h3>あとは</h3>\n    <p>これでVPSにmp3をバックアップするという名目で、オマケで音楽も聴けてしまう素敵環境ができました。<br />\nとはいえ全部で200GBくらいあるので、全部は置けないのよなぁ・・。</p><p><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/iPhone\">iPhone</a>からまだやってないので、アプリのレビューみたいなのも書こうかな？</p>\n\n</div>\n</div>"
}
