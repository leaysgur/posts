---
title: "@tanstack/vue-queryã§TypeScriptã®å‹ã‚’çµã‚Šè¾¼ã‚€"
---

ãªã‚“ã¦ã“ã¨ã¯ãªã„ã€åŸºæœ¬ã®ä½¿ã„æ–¹ãŒã—ãŸã‹ã£ãŸã ã‘ãªã®ã«ãƒ»ãƒ»ãƒ»ã€‚

## TL;DR

```vue
<script setup lang="ts">
import { reactive, watchEffect } from "vue";
import { useQuery } from "@tanstack/vue-query";

// ğŸ‘‡
const query = reactive(useQuery({
  // ...
}));

watchEffect(() => {
  if (!query.isSuccess) return;
  query.data.xxx;
});
</script>

<template>
  <div style="display: contents" v-if="query.isSuccess">
    {{ query.data.xxx }}
  </div>
</template>
```

ãƒã‚¤ãƒ³ãƒˆã¨ã—ã¦ã¯ã€

- `reactive`ã§`useQuery()`ã‚’ä¸¸ã”ã¨ãƒ©ãƒƒãƒ—ã™ã‚‹
- `{ isSuccess, data }`ã®ã‚ˆã†ã«ã€Destructuringã—ãªã„

ã“ã®2ç‚¹ã‚’åŒæ™‚ã«æŠ¼ã•ãˆãªã„ã¨ã€ã†ã¾ãã„ã‹ãªã„ã€‚

> [vue]: type narrowing not working on `data` field Â· Issue #5065 Â· TanStack/query
> https://github.com/TanStack/query/issues/5065#issuecomment-1458639556

ã†ã€œã‚“ã€ã„ã¾ã„ã¡ãªDXã§ã‚ã‚‹ã€‚
